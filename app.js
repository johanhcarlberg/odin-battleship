(()=>{"use strict";var r={780:(r,e,t)=>{t.d(e,{Z:()=>i});var n=t(537),o=t.n(n),a=t(645),s=t.n(a)()(o());s.push([r.id,".wrapper {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-items: center;\r\n}","",{version:3,sources:["webpack://./src/app.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;AACzB",sourcesContent:[".wrapper {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-items: center;\r\n}"],sourceRoot:""}]);const i=s},582:(r,e,t)=>{t.d(e,{Z:()=>i});var n=t(537),o=t.n(n),a=t(645),s=t.n(a)()(o());s.push([r.id,".gameboard-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 50px);\r\n    grid-template-rows: repeat(10, 50px);\r\n}\r\n\r\n.gameboard-item {\r\n    display: grid;\r\n    align-items: center;\r\n    justify-items: center;\r\n    border: 1px solid #777;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ship {\r\n    background-color: #333;\r\n    color: #fff;\r\n}","",{version:3,sources:["webpack://./src/gameboard/GameboardComponent.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,uCAAuC;IACvC,oCAAoC;AACxC;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,sBAAsB;IACtB,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;IACtB,WAAW;AACf",sourcesContent:[".gameboard-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 50px);\r\n    grid-template-rows: repeat(10, 50px);\r\n}\r\n\r\n.gameboard-item {\r\n    display: grid;\r\n    align-items: center;\r\n    justify-items: center;\r\n    border: 1px solid #777;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ship {\r\n    background-color: #333;\r\n    color: #fff;\r\n}"],sourceRoot:""}]);const i=s},645:r=>{r.exports=function(r){var e=[];return e.toString=function(){return this.map((function(e){var t="",n=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),n&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=r(e),n&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(r,t,n,o,a){"string"==typeof r&&(r=[[null,r,void 0]]);var s={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var u=0;u<r.length;u++){var l=[].concat(r[u]);n&&s[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},537:r=>{r.exports=function(r){var e=r[1],t=r[3];if(!t)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},379:r=>{var e=[];function t(r){for(var t=-1,n=0;n<e.length;n++)if(e[n].identifier===r){t=n;break}return t}function n(r,n){for(var a={},s=[],i=0;i<r.length;i++){var c=r[i],u=n.base?c[0]+n.base:c[0],l=a[u]||0,p="".concat(u," ").concat(l);a[u]=l+1;var d=t(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=o(f,n);n.byIndex=i,e.splice(i,0,{identifier:p,updater:h,references:1})}s.push(p)}return s}function o(r,e){var t=e.domAPI(e);return t.update(r),function(e){if(e){if(e.css===r.css&&e.media===r.media&&e.sourceMap===r.sourceMap&&e.supports===r.supports&&e.layer===r.layer)return;t.update(r=e)}else t.remove()}}r.exports=function(r,o){var a=n(r=r||[],o=o||{});return function(r){r=r||[];for(var s=0;s<a.length;s++){var i=t(a[s]);e[i].references--}for(var c=n(r,o),u=0;u<a.length;u++){var l=t(a[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:r=>{var e={};r.exports=function(r,t){var n=function(r){if(void 0===e[r]){var t=document.querySelector(r);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(r){t=null}e[r]=t}return e[r]}(r);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}},216:r=>{r.exports=function(r){var e=document.createElement("style");return r.setAttributes(e,r.attributes),r.insert(e,r.options),e}},565:(r,e,t)=>{r.exports=function(r){var e=t.nc;e&&r.setAttribute("nonce",e)}},795:r=>{r.exports=function(r){var e=r.insertStyleElement(r);return{update:function(t){!function(r,e,t){var n="";t.supports&&(n+="@supports (".concat(t.supports,") {")),t.media&&(n+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(n+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),n+=t.css,o&&(n+="}"),t.media&&(n+="}"),t.supports&&(n+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,r,e.options)}(e,r,t)},remove:function(){!function(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r)}(e)}}}},589:r=>{r.exports=function(r,e){if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,exports:{}};return r[n](a,a.exports,t),a.exports}t.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return t.d(e,{a:e}),e},t.d=(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t.nc=void 0,(()=>{var r=t(379),e=t.n(r),n=t(795),o=t.n(n),a=t(569),s=t.n(a),i=t(565),c=t.n(i),u=t(216),l=t.n(u),p=t(589),d=t.n(p),f=t(780),h={};h.styleTagTransform=d(),h.setAttributes=c(),h.insert=s().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=l(),e()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const{isArray:m}=Array;class g{constructor(r){this.value=r}}function y(r,e,t){if(!m(t))throw new TypeError("reduce: list must be array or iterable");let n=0;const o=t.length;for(;n<o;){if((e=r(e,t[n],n,t))instanceof g)return e.value;n++}return e}function A(r,e){return function(){return e.call(this,r.apply(this,arguments))}}!function r(e,t=[]){return(...n)=>{return(o=[...t,...n]).length>=e.length?e(...o):r(e,o);var o}}(y);const v=()=>{let r=((r=10)=>{const e=r,t=[],n=[];let o=new Array(e*e);const a=()=>o,s=(r,t)=>{const n=((r,t)=>e*t+r)(r,t);return n},i=(r,e)=>{const t=e.x,n=e.y,i=s(t,n);if(!c(r,e))throw new Error("Position already has ship");let u=((r=2)=>{let e=0,t=r;const n=()=>e>=t;return{getTimesHit:()=>e,getLength:()=>t,hit:()=>{n()||e++},isSunk:n}})(r),l=a();for(let r=0;r<u.getLength();r++)l[i+r]=u;return(r=>{o=r})(l),o},c=(r,t)=>{for(let n=0;n<r;n++){let r=t.x+n,o=t.y+n;if(r>e-1||o>e-1)return!1;let i=s(t.x+n,t.y);if(a()[i])return!1}return!0},u=r=>{let t=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);for(;!c(r,{x:t,y:n});)t=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);return{x:t,y:n}};return{getBoard:a,getPos:s,placeShip:i,receiveAttack:(r,e)=>{const a=[r,e];if((r=>{const e=JSON.stringify(r);return n.some((r=>JSON.stringify(r)===e))})(a)||(r=>{const e=JSON.stringify(r);return t.some((r=>JSON.stringify(r)===e))})(a))return;const i=o[s(r,e)];i&&i.hit?(n.push(a),i.hit()):t.push(a)},getMissedShots:()=>t,isAllSunk:()=>{for(const r of o)if(r&&r.isSunk&&!r.isSunk())return!1;return!0},getHits:()=>n,generateBoard:()=>{const r=[2,2,2,3,3,4],e=[];for(;r.length>0;){const t=r.shift(),n=u(t);i(t,n),e.push({x:n.x,y:n.y})}return e}}})(),e=!1;const t=r=>e=r;return{gameBoard:r,getIsCurrentPlayer:()=>e,setIsCurrentPlayer:t,toggleIsCurrentPlayer:()=>t(!e)}},b=(r={})=>({...r,getNextAttack:()=>({x:Math.floor(Math.random()*Math.pow(10,2)),y:Math.floor(Math.random()*Math.pow(10,2)),isAI:!0})});var C=t(582),x={};x.styleTagTransform=d(),x.setAttributes=c(),x.insert=s().bind(null,"head"),x.domAPI=o(),x.insertStyleElement=l(),e()(C.Z,x),C.Z&&C.Z.locals&&C.Z.locals;class B{constructor(r,e=!1){this.player=r,this.gameboard=r.gameBoard,this.hideShips=e}render(){const r=document.createElement("div");r.classList.add("gameboard-container");const e=this.gameboard.getBoard();for(let t=0;t<this.gameboard.getBoard().length;t++){const n=document.createElement("div");n.classList.add("gameboard-item"),n.textContent=t,n.position=t,n.addEventListener("click",(r=>{const e=r.currentTarget.position;console.log("clicked "+e)})),e[t]&&!this.hideShips&&(n.classList.add("ship"),e[t].isSunk()&&n.classList.add("sunk")),r.appendChild(n)}return r}}const I=()=>{const r=v();r.gameBoard.generateBoard();const e=(()=>{const r=v();return function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return function(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,t){return e.apply(this,arguments)};case 3:return function(r,t,n){return e.apply(this,arguments)};case 4:return function(r,t,n,o){return e.apply(this,arguments)};case 5:return function(r,t,n,o,a){return e.apply(this,arguments)};case 6:return function(r,t,n,o,a,s){return e.apply(this,arguments)};case 7:return function(r,t,n,o,a,s,i){return e.apply(this,arguments)};case 8:return function(r,t,n,o,a,s,i,c){return e.apply(this,arguments)};case 9:return function(r,t,n,o,a,s,i,c,u){return e.apply(this,arguments)};case 10:return function(r,t,n,o,a,s,i,c,u,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(arguments[0].length,y(A,arguments[0],Array.prototype.slice.call(arguments,1,1/0)))}(b)(r)})();return e.gameBoard.generateBoard(),{player1:r,player2:e,p1gameBoard:new B(r),p2gameBoard:new B(e,!0)}};(()=>{console.log("battleship app loaded");const r=document.querySelector(".wrapper"),e=I();console.log(e),r.appendChild(e.p1gameBoard.render()),r.appendChild(e.p2gameBoard.render())})()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0VLLEVBQ0FHLFVBQVcsR0FDWFosTUFBTUwsVUFBVTJHLE1BQU16RyxLQUNwQmUsVUFBVyxFQUFHMkYsTUFHdEIsQ0VwRFdDLENBQ1BuQyxFQURPbUMsQ0FFTGxDLEVBQU0sRUs5QlFtQyxHQU1oQixPQUxBZixFQUFRdkUsVUFBVXNDLGdCQUtYLENBQ0hnQyxVQUNBQyxVQUNBZ0IsWUFOZ0IsSUFBSSxFQUFtQmpCLEdBT3ZDa0IsWUFOZ0IsSUFBSSxFQUFtQmpCLEdBQVMsR0FPcEQsRUNmSixNQUNJSixRQUFRQyxJQUFJLHlCQUNaLE1BQU1xQixFQUFVOUosU0FBU0MsY0FBYyxZQUVqQzhKLEVBQVVyQixJQUNoQkYsUUFBUUMsSUFBSXNCLEdBQ1pELEVBQVFySixZQUFZc0osRUFBUUgsWUFBWTlCLFVBQ3hDZ0MsRUFBUXJKLFlBQVlzSixFQUFRRixZQUFZL0IsU0FDM0MsRUFSRCxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2FwcC5jc3MiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC9HYW1lYm9hcmRDb21wb25lbnQuY3NzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9jb21wYXQgZ2V0IGRlZmF1bHQgZXhwb3J0Iiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvZGVmaW5lIHByb3BlcnR5IGdldHRlcnMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9oYXNPd25Qcm9wZXJ0eSBzaG9ydGhhbmQiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9ub25jZSIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvYXBwLmNzcz9hNjcyIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9yYW1iZGEvc3JjL19pbnRlcm5hbHMvaXNBcnJheS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvcmFtYmRhL3NyYy9yZWR1Y2UuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3JhbWJkYS9zcmMvcGlwZS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvcmFtYmRhL3NyYy9jdXJyeS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvcGxheWVyL3BsYXllci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkL2dhbWVib2FyZC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvc2hpcC9zaGlwLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQvR2FtZWJvYXJkQ29tcG9uZW50LmNzcz9mOWRlIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQvR2FtZWJvYXJkQ29tcG9uZW50LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9HYW1lLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9hcHAuanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIud3JhcHBlciB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcXHJcXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xcclxcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvYXBwLmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGFBQWE7SUFDYiw4QkFBOEI7SUFDOUIscUJBQXFCO0FBQ3pCXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi53cmFwcGVyIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcclxcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi5nYW1lYm9hcmQtY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDUwcHgpO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgNTBweCk7XFxyXFxufVxcclxcblxcclxcbi5nYW1lYm9hcmQtaXRlbSB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzc3NztcXHJcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG59XFxyXFxuXFxyXFxuLnNoaXAge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2dhbWVib2FyZC9HYW1lYm9hcmRDb21wb25lbnQuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksYUFBYTtJQUNiLHVDQUF1QztJQUN2QyxvQ0FBb0M7QUFDeEM7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsbUJBQW1CO0lBQ25CLHFCQUFxQjtJQUNyQixzQkFBc0I7SUFDdEIsc0JBQXNCO0FBQzFCOztBQUVBO0lBQ0ksc0JBQXNCO0lBQ3RCLFdBQVc7QUFDZlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIuZ2FtZWJvYXJkLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCA1MHB4KTtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDUwcHgpO1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FtZWJvYXJkLWl0ZW0ge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcblxcclxcbi5zaGlwIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxufVwiXSxcInNvdXJjZVJvb3RcIjpcIlwifV0pO1xuLy8gRXhwb3J0c1xuZXhwb3J0IGRlZmF1bHQgX19fQ1NTX0xPQURFUl9FWFBPUlRfX187XG4iLCJcInVzZSBzdHJpY3RcIjtcblxuLypcbiAgTUlUIExpY2Vuc2UgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcbiAgQXV0aG9yIFRvYmlhcyBLb3BwZXJzIEBzb2tyYVxuKi9cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcpIHtcbiAgdmFyIGxpc3QgPSBbXTtcblxuICAvLyByZXR1cm4gdGhlIGxpc3Qgb2YgbW9kdWxlcyBhcyBjc3Mgc3RyaW5nXG4gIGxpc3QudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHZhciBjb250ZW50ID0gXCJcIjtcbiAgICAgIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2YgaXRlbVs1XSAhPT0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGNvbnRlbnQgKz0gY3NzV2l0aE1hcHBpbmdUb1N0cmluZyhpdGVtKTtcbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzJdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNvbnRlbnQ7XG4gICAgfSkuam9pbihcIlwiKTtcbiAgfTtcblxuICAvLyBpbXBvcnQgYSBsaXN0IG9mIG1vZHVsZXMgaW50byB0aGUgbGlzdFxuICBsaXN0LmkgPSBmdW5jdGlvbiBpKG1vZHVsZXMsIG1lZGlhLCBkZWR1cGUsIHN1cHBvcnRzLCBsYXllcikge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlcyA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgbW9kdWxlcyA9IFtbbnVsbCwgbW9kdWxlcywgdW5kZWZpbmVkXV07XG4gICAgfVxuICAgIHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzID0ge307XG4gICAgaWYgKGRlZHVwZSkge1xuICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB0aGlzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgIHZhciBpZCA9IHRoaXNba11bMF07XG4gICAgICAgIGlmIChpZCAhPSBudWxsKSB7XG4gICAgICAgICAgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBtb2R1bGVzLmxlbmd0aDsgX2srKykge1xuICAgICAgdmFyIGl0ZW0gPSBbXS5jb25jYXQobW9kdWxlc1tfa10pO1xuICAgICAgaWYgKGRlZHVwZSAmJiBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBsYXllciAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBpZiAodHlwZW9mIGl0ZW1bNV0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzVdID0gbGF5ZXI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChtZWRpYSkge1xuICAgICAgICBpZiAoIWl0ZW1bMl0pIHtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3VwcG9ydHMpIHtcbiAgICAgICAgaWYgKCFpdGVtWzRdKSB7XG4gICAgICAgICAgaXRlbVs0XSA9IFwiXCIuY29uY2F0KHN1cHBvcnRzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChpdGVtWzRdLCBcIikge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNF0gPSBzdXBwb3J0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgbGlzdC5wdXNoKGl0ZW0pO1xuICAgIH1cbiAgfTtcbiAgcmV0dXJuIGxpc3Q7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChpdGVtKSB7XG4gIHZhciBjb250ZW50ID0gaXRlbVsxXTtcbiAgdmFyIGNzc01hcHBpbmcgPSBpdGVtWzNdO1xuICBpZiAoIWNzc01hcHBpbmcpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGJ0b2EgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHZhciBiYXNlNjQgPSBidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShjc3NNYXBwaW5nKSkpKTtcbiAgICB2YXIgZGF0YSA9IFwic291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIuY29uY2F0KGJhc2U2NCk7XG4gICAgdmFyIHNvdXJjZU1hcHBpbmcgPSBcIi8qIyBcIi5jb25jYXQoZGF0YSwgXCIgKi9cIik7XG4gICAgcmV0dXJuIFtjb250ZW50XS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpO1xuICB9XG4gIHJldHVybiBbY29udGVudF0uam9pbihcIlxcblwiKTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBzdHlsZXNJbkRPTSA9IFtdO1xuXG5mdW5jdGlvbiBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKSB7XG4gIHZhciByZXN1bHQgPSAtMTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0eWxlc0luRE9NLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0eWxlc0luRE9NW2ldLmlkZW50aWZpZXIgPT09IGlkZW50aWZpZXIpIHtcbiAgICAgIHJlc3VsdCA9IGk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucykge1xuICB2YXIgaWRDb3VudE1hcCA9IHt9O1xuICB2YXIgaWRlbnRpZmllcnMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgaXRlbSA9IGxpc3RbaV07XG4gICAgdmFyIGlkID0gb3B0aW9ucy5iYXNlID8gaXRlbVswXSArIG9wdGlvbnMuYmFzZSA6IGl0ZW1bMF07XG4gICAgdmFyIGNvdW50ID0gaWRDb3VudE1hcFtpZF0gfHwgMDtcbiAgICB2YXIgaWRlbnRpZmllciA9IFwiXCIuY29uY2F0KGlkLCBcIiBcIikuY29uY2F0KGNvdW50KTtcbiAgICBpZENvdW50TWFwW2lkXSA9IGNvdW50ICsgMTtcbiAgICB2YXIgaW5kZXhCeUlkZW50aWZpZXIgPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICB2YXIgb2JqID0ge1xuICAgICAgY3NzOiBpdGVtWzFdLFxuICAgICAgbWVkaWE6IGl0ZW1bMl0sXG4gICAgICBzb3VyY2VNYXA6IGl0ZW1bM10sXG4gICAgICBzdXBwb3J0czogaXRlbVs0XSxcbiAgICAgIGxheWVyOiBpdGVtWzVdXG4gICAgfTtcblxuICAgIGlmIChpbmRleEJ5SWRlbnRpZmllciAhPT0gLTEpIHtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS5yZWZlcmVuY2VzKys7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0udXBkYXRlcihvYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdXBkYXRlciA9IGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpO1xuICAgICAgb3B0aW9ucy5ieUluZGV4ID0gaTtcbiAgICAgIHN0eWxlc0luRE9NLnNwbGljZShpLCAwLCB7XG4gICAgICAgIGlkZW50aWZpZXI6IGlkZW50aWZpZXIsXG4gICAgICAgIHVwZGF0ZXI6IHVwZGF0ZXIsXG4gICAgICAgIHJlZmVyZW5jZXM6IDFcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlkZW50aWZpZXJzLnB1c2goaWRlbnRpZmllcik7XG4gIH1cblxuICByZXR1cm4gaWRlbnRpZmllcnM7XG59XG5cbmZ1bmN0aW9uIGFkZEVsZW1lbnRTdHlsZShvYmosIG9wdGlvbnMpIHtcbiAgdmFyIGFwaSA9IG9wdGlvbnMuZG9tQVBJKG9wdGlvbnMpO1xuICBhcGkudXBkYXRlKG9iaik7XG5cbiAgdmFyIHVwZGF0ZXIgPSBmdW5jdGlvbiB1cGRhdGVyKG5ld09iaikge1xuICAgIGlmIChuZXdPYmopIHtcbiAgICAgIGlmIChuZXdPYmouY3NzID09PSBvYmouY3NzICYmIG5ld09iai5tZWRpYSA9PT0gb2JqLm1lZGlhICYmIG5ld09iai5zb3VyY2VNYXAgPT09IG9iai5zb3VyY2VNYXAgJiYgbmV3T2JqLnN1cHBvcnRzID09PSBvYmouc3VwcG9ydHMgJiYgbmV3T2JqLmxheWVyID09PSBvYmoubGF5ZXIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBhcGkudXBkYXRlKG9iaiA9IG5ld09iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwaS5yZW1vdmUoKTtcbiAgICB9XG4gIH07XG5cbiAgcmV0dXJuIHVwZGF0ZXI7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGxpc3QsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIGxpc3QgPSBsaXN0IHx8IFtdO1xuICB2YXIgbGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpO1xuICByZXR1cm4gZnVuY3Rpb24gdXBkYXRlKG5ld0xpc3QpIHtcbiAgICBuZXdMaXN0ID0gbmV3TGlzdCB8fCBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tpXTtcbiAgICAgIHZhciBpbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhdLnJlZmVyZW5jZXMtLTtcbiAgICB9XG5cbiAgICB2YXIgbmV3TGFzdElkZW50aWZpZXJzID0gbW9kdWxlc1RvRG9tKG5ld0xpc3QsIG9wdGlvbnMpO1xuXG4gICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IF9pKyspIHtcbiAgICAgIHZhciBfaWRlbnRpZmllciA9IGxhc3RJZGVudGlmaWVyc1tfaV07XG5cbiAgICAgIHZhciBfaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihfaWRlbnRpZmllcik7XG5cbiAgICAgIGlmIChzdHlsZXNJbkRPTVtfaW5kZXhdLnJlZmVyZW5jZXMgPT09IDApIHtcbiAgICAgICAgc3R5bGVzSW5ET01bX2luZGV4XS51cGRhdGVyKCk7XG5cbiAgICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKF9pbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbGFzdElkZW50aWZpZXJzID0gbmV3TGFzdElkZW50aWZpZXJzO1xuICB9O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIG1lbW8gPSB7fTtcbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5mdW5jdGlvbiBnZXRUYXJnZXQodGFyZ2V0KSB7XG4gIGlmICh0eXBlb2YgbWVtb1t0YXJnZXRdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgdmFyIHN0eWxlVGFyZ2V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0YXJnZXQpOyAvLyBTcGVjaWFsIGNhc2UgdG8gcmV0dXJuIGhlYWQgb2YgaWZyYW1lIGluc3RlYWQgb2YgaWZyYW1lIGl0c2VsZlxuXG4gICAgaWYgKHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCAmJiBzdHlsZVRhcmdldCBpbnN0YW5jZW9mIHdpbmRvdy5IVE1MSUZyYW1lRWxlbWVudCkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gVGhpcyB3aWxsIHRocm93IGFuIGV4Y2VwdGlvbiBpZiBhY2Nlc3MgdG8gaWZyYW1lIGlzIGJsb2NrZWRcbiAgICAgICAgLy8gZHVlIHRvIGNyb3NzLW9yaWdpbiByZXN0cmljdGlvbnNcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBzdHlsZVRhcmdldC5jb250ZW50RG9jdW1lbnQuaGVhZDtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gaXN0YW5idWwgaWdub3JlIG5leHRcbiAgICAgICAgc3R5bGVUYXJnZXQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIG1lbW9bdGFyZ2V0XSA9IHN0eWxlVGFyZ2V0O1xuICB9XG5cbiAgcmV0dXJuIG1lbW9bdGFyZ2V0XTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGluc2VydEJ5U2VsZWN0b3IoaW5zZXJ0LCBzdHlsZSkge1xuICB2YXIgdGFyZ2V0ID0gZ2V0VGFyZ2V0KGluc2VydCk7XG5cbiAgaWYgKCF0YXJnZXQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZG4ndCBmaW5kIGEgc3R5bGUgdGFyZ2V0LiBUaGlzIHByb2JhYmx5IG1lYW5zIHRoYXQgdGhlIHZhbHVlIGZvciB0aGUgJ2luc2VydCcgcGFyYW1ldGVyIGlzIGludmFsaWQuXCIpO1xuICB9XG5cbiAgdGFyZ2V0LmFwcGVuZENoaWxkKHN0eWxlKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRCeVNlbGVjdG9yOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKSB7XG4gIHZhciBlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO1xuICBvcHRpb25zLnNldEF0dHJpYnV0ZXMoZWxlbWVudCwgb3B0aW9ucy5hdHRyaWJ1dGVzKTtcbiAgb3B0aW9ucy5pbnNlcnQoZWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbiAgcmV0dXJuIGVsZW1lbnQ7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0U3R5bGVFbGVtZW50OyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcyhzdHlsZUVsZW1lbnQpIHtcbiAgdmFyIG5vbmNlID0gdHlwZW9mIF9fd2VicGFja19ub25jZV9fICE9PSBcInVuZGVmaW5lZFwiID8gX193ZWJwYWNrX25vbmNlX18gOiBudWxsO1xuXG4gIGlmIChub25jZSkge1xuICAgIHN0eWxlRWxlbWVudC5zZXRBdHRyaWJ1dGUoXCJub25jZVwiLCBub25jZSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXM7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopIHtcbiAgdmFyIGNzcyA9IFwiXCI7XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KG9iai5zdXBwb3J0cywgXCIpIHtcIik7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwiQG1lZGlhIFwiLmNvbmNhdChvYmoubWVkaWEsIFwiIHtcIik7XG4gIH1cblxuICB2YXIgbmVlZExheWVyID0gdHlwZW9mIG9iai5sYXllciAhPT0gXCJ1bmRlZmluZWRcIjtcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwiQGxheWVyXCIuY29uY2F0KG9iai5sYXllci5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KG9iai5sYXllcikgOiBcIlwiLCBcIiB7XCIpO1xuICB9XG5cbiAgY3NzICs9IG9iai5jc3M7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgdmFyIHNvdXJjZU1hcCA9IG9iai5zb3VyY2VNYXA7XG5cbiAgaWYgKHNvdXJjZU1hcCAmJiB0eXBlb2YgYnRvYSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgIGNzcyArPSBcIlxcbi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtiYXNlNjQsXCIuY29uY2F0KGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSksIFwiICovXCIpO1xuICB9IC8vIEZvciBvbGQgSUVcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgICovXG5cblxuICBvcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xufVxuXG5mdW5jdGlvbiByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KSB7XG4gIC8vIGlzdGFuYnVsIGlnbm9yZSBpZlxuICBpZiAoc3R5bGVFbGVtZW50LnBhcmVudE5vZGUgPT09IG51bGwpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzdHlsZUVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQpO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gZG9tQVBJKG9wdGlvbnMpIHtcbiAgdmFyIHN0eWxlRWxlbWVudCA9IG9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpO1xuICByZXR1cm4ge1xuICAgIHVwZGF0ZTogZnVuY3Rpb24gdXBkYXRlKG9iaikge1xuICAgICAgYXBwbHkoc3R5bGVFbGVtZW50LCBvcHRpb25zLCBvYmopO1xuICAgIH0sXG4gICAgcmVtb3ZlOiBmdW5jdGlvbiByZW1vdmUoKSB7XG4gICAgICByZW1vdmVTdHlsZUVsZW1lbnQoc3R5bGVFbGVtZW50KTtcbiAgICB9XG4gIH07XG59XG5cbm1vZHVsZS5leHBvcnRzID0gZG9tQVBJOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIHN0eWxlVGFnVHJhbnNmb3JtKGNzcywgc3R5bGVFbGVtZW50KSB7XG4gIGlmIChzdHlsZUVsZW1lbnQuc3R5bGVTaGVldCkge1xuICAgIHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0LmNzc1RleHQgPSBjc3M7XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKSB7XG4gICAgICBzdHlsZUVsZW1lbnQucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpO1xuICAgIH1cblxuICAgIHN0eWxlRWxlbWVudC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShjc3MpKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHN0eWxlVGFnVHJhbnNmb3JtOyIsIi8vIFRoZSBtb2R1bGUgY2FjaGVcbnZhciBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX18gPSB7fTtcblxuLy8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbmZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG5cdHZhciBjYWNoZWRNb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdO1xuXHRpZiAoY2FjaGVkTW9kdWxlICE9PSB1bmRlZmluZWQpIHtcblx0XHRyZXR1cm4gY2FjaGVkTW9kdWxlLmV4cG9ydHM7XG5cdH1cblx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcblx0dmFyIG1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF0gPSB7XG5cdFx0aWQ6IG1vZHVsZUlkLFxuXHRcdC8vIG5vIG1vZHVsZS5sb2FkZWQgbmVlZGVkXG5cdFx0ZXhwb3J0czoge31cblx0fTtcblxuXHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cblx0X193ZWJwYWNrX21vZHVsZXNfX1ttb2R1bGVJZF0obW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cblx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcblx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xufVxuXG4iLCIvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuX193ZWJwYWNrX3JlcXVpcmVfXy5uID0gKG1vZHVsZSkgPT4ge1xuXHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cblx0XHQoKSA9PiAobW9kdWxlWydkZWZhdWx0J10pIDpcblx0XHQoKSA9PiAobW9kdWxlKTtcblx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgeyBhOiBnZXR0ZXIgfSk7XG5cdHJldHVybiBnZXR0ZXI7XG59OyIsIi8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb25zIGZvciBoYXJtb255IGV4cG9ydHNcbl9fd2VicGFja19yZXF1aXJlX18uZCA9IChleHBvcnRzLCBkZWZpbml0aW9uKSA9PiB7XG5cdGZvcih2YXIga2V5IGluIGRlZmluaXRpb24pIHtcblx0XHRpZihfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZGVmaW5pdGlvbiwga2V5KSAmJiAhX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIGtleSkpIHtcblx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBrZXksIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBkZWZpbml0aW9uW2tleV0gfSk7XG5cdFx0fVxuXHR9XG59OyIsIl9fd2VicGFja19yZXF1aXJlX18ubyA9IChvYmosIHByb3ApID0+IChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKSkiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm5jID0gdW5kZWZpbmVkOyIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9hcHAuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9hcHAuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiZXhwb3J0IGNvbnN0IHsgaXNBcnJheSB9ID0gQXJyYXlcbiIsImltcG9ydCB7IGlzQXJyYXkgfSBmcm9tICcuL19pbnRlcm5hbHMvaXNBcnJheS5qcydcbmltcG9ydCB7IGN1cnJ5IH0gZnJvbSAnLi9jdXJyeS5qcydcblxuY2xhc3MgUmVkdWNlU3RvcHBlcntcbiAgY29uc3RydWN0b3IodmFsdWUpe1xuICAgIHRoaXMudmFsdWUgPSB2YWx1ZVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiByZWR1Y2VGbihcbiAgcmVkdWNlciwgYWNjLCBsaXN0XG4pe1xuICBpZiAoIWlzQXJyYXkobGlzdCkpe1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ3JlZHVjZTogbGlzdCBtdXN0IGJlIGFycmF5IG9yIGl0ZXJhYmxlJylcbiAgfVxuICBsZXQgaW5kZXggPSAwXG4gIGNvbnN0IGxlbiA9IGxpc3QubGVuZ3RoXG5cbiAgd2hpbGUgKGluZGV4IDwgbGVuKXtcbiAgICBhY2MgPSByZWR1Y2VyKFxuICAgICAgYWNjLCBsaXN0WyBpbmRleCBdLCBpbmRleCwgbGlzdFxuICAgIClcbiAgICBpZiAoYWNjIGluc3RhbmNlb2YgUmVkdWNlU3RvcHBlcil7XG4gICAgICByZXR1cm4gYWNjLnZhbHVlXG4gICAgfVxuICAgIGluZGV4KytcbiAgfVxuXG4gIHJldHVybiBhY2Ncbn1cblxuZXhwb3J0IGNvbnN0IHJlZHVjZSA9IGN1cnJ5KHJlZHVjZUZuKVxuZXhwb3J0IGNvbnN0IHJlZHVjZVN0b3BwZXIgPSB2YWx1ZSA9PiBuZXcgUmVkdWNlU3RvcHBlcih2YWx1ZSlcbiIsImltcG9ydCB7IHJlZHVjZUZuIH0gZnJvbSAnLi9yZWR1Y2UuanMnXG5cbmV4cG9ydCBmdW5jdGlvbiBfYXJpdHkobiwgZm4pe1xuICBzd2l0Y2ggKG4pe1xuICBjYXNlIDA6XG4gICAgcmV0dXJuIGZ1bmN0aW9uICgpe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgMTpcbiAgICByZXR1cm4gZnVuY3Rpb24gKGEwKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDI6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhMCwgYTEpe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMlxuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSA0OlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyLCBhM1xuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSA1OlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyLCBhMywgYTRcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgNjpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMiwgYTMsIGE0LCBhNVxuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSA3OlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNlxuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSA4OlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTdcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgOTpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOFxuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSAxMDpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3LCBhOCwgYTlcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGRlZmF1bHQ6XG4gICAgdGhyb3cgbmV3IEVycm9yKCdGaXJzdCBhcmd1bWVudCB0byBfYXJpdHkgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBpbnRlZ2VyIG5vIGdyZWF0ZXIgdGhhbiB0ZW4nKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBfcGlwZShmLCBnKXtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpe1xuICAgIHJldHVybiBnLmNhbGwodGhpcywgZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpKVxuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBwaXBlKCl7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKXtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3BpcGUgcmVxdWlyZXMgYXQgbGVhc3Qgb25lIGFyZ3VtZW50JylcbiAgfVxuXG4gIHJldHVybiBfYXJpdHkoYXJndW1lbnRzWyAwIF0ubGVuZ3RoLFxuICAgIHJlZHVjZUZuKFxuICAgICAgX3BpcGUsXG4gICAgICBhcmd1bWVudHNbIDAgXSxcbiAgICAgIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKFxuICAgICAgICBhcmd1bWVudHMsIDEsIEluZmluaXR5XG4gICAgICApXG4gICAgKSlcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBjdXJyeShmbiwgYXJncyA9IFtdKXtcbiAgcmV0dXJuICguLi5fYXJncykgPT5cbiAgICAocmVzdCA9PiByZXN0Lmxlbmd0aCA+PSBmbi5sZW5ndGggPyBmbiguLi5yZXN0KSA6IGN1cnJ5KGZuLCByZXN0KSkoW1xuICAgICAgLi4uYXJncyxcbiAgICAgIC4uLl9hcmdzLFxuICAgIF0pXG59XG4iLCJpbXBvcnQgeyBHYW1lYm9hcmRGYWN0b3J5IH0gZnJvbSBcIi4uL2dhbWVib2FyZC9nYW1lYm9hcmRcIjtcclxuaW1wb3J0IHsgcGlwZSB9IGZyb20gXCJyYW1iZGFcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBQbGF5ZXIgPSAoKSA9PiB7XHJcbiAgICBsZXQgZ2FtZUJvYXJkID0gR2FtZWJvYXJkRmFjdG9yeSgpO1xyXG4gICAgbGV0IGlzQ3VycmVudFBsYXllciA9IGZhbHNlO1xyXG4gICAgY29uc3QgZ2V0SXNDdXJyZW50UGxheWVyID0gKCkgPT4gaXNDdXJyZW50UGxheWVyO1xyXG4gICAgY29uc3Qgc2V0SXNDdXJyZW50UGxheWVyID0gKHN0YXR1cykgPT4gaXNDdXJyZW50UGxheWVyID0gc3RhdHVzO1xyXG4gICAgY29uc3QgdG9nZ2xlSXNDdXJyZW50UGxheWVyID0gKCkgPT4gc2V0SXNDdXJyZW50UGxheWVyKCFpc0N1cnJlbnRQbGF5ZXIpO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnYW1lQm9hcmQsXHJcbiAgICAgICAgZ2V0SXNDdXJyZW50UGxheWVyLFxyXG4gICAgICAgIHNldElzQ3VycmVudFBsYXllcixcclxuICAgICAgICB0b2dnbGVJc0N1cnJlbnRQbGF5ZXIsXHJcbiAgICB9O1xyXG59XHJcblxyXG5jb25zdCBpc0FJUGxheWVyID0gKHBsYXllciA9IHt9KSA9PiB7XHJcbiAgICBjb25zdCBnZXROZXh0QXR0YWNrID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKE1hdGgucG93KDEwLCAyKSkpXHJcbiAgICAgICAgbGV0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoTWF0aC5wb3coMTAsIDIpKSlcclxuICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICB4LFxyXG4gICAgICAgICAgICB5LFxyXG4gICAgICAgICAgICBpc0FJOiB0cnVlLFxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIC4uLnBsYXllcixcclxuICAgICAgICBnZXROZXh0QXR0YWNrXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBBSVBsYXllciA9ICgpID0+IHtcclxuICAgIGNvbnN0IHBsYXllciA9IFBsYXllcigpO1xyXG4gICAgcmV0dXJuIHBpcGUoXHJcbiAgICBpc0FJUGxheWVyXHJcbiAgICApKHBsYXllcilcclxufVxyXG4iLCJpbXBvcnQgeyBTaGlwRmFjdG9yeSB9IGZyb20gXCIuLi9zaGlwL3NoaXBcIjtcclxuXHJcbmV4cG9ydCBjb25zdCBHYW1lYm9hcmRGYWN0b3J5ID0gKGJvYXJkTGVuZ3RoID0gMTApID0+IHtcclxuICAgIGNvbnN0IGxlbmd0aCA9IGJvYXJkTGVuZ3RoO1xyXG4gICAgY29uc3QgbWlzc2VkU2hvdHMgPSBbXTtcclxuICAgIGNvbnN0IGhpdHMgPSBbXTtcclxuICAgIGNvbnN0IGdldE1pc3NlZFNob3RzID0gKCkgID0+IG1pc3NlZFNob3RzO1xyXG4gICAgY29uc3QgZ2V0SGl0cyA9ICgpID0+IGhpdHM7XHJcblxyXG4gICAgY29uc3QgY3JlYXRlQm9hcmQgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHRvdGFsTGVuZ3RoID0gbGVuZ3RoICogbGVuZ3RoO1xyXG4gICAgICAgIHJldHVybiBuZXcgQXJyYXkodG90YWxMZW5ndGgpO1xyXG4gICAgfVxyXG4gICAgbGV0IGJvYXJkID0gY3JlYXRlQm9hcmQoKVxyXG4gICAgY29uc3QgZ2V0Qm9hcmQgPSAoKSA9PiBib2FyZDtcclxuICAgIGNvbnN0IF9zZXRCb2FyZCA9IChuZXdCb2FyZCkgPT4gYm9hcmQgPSBuZXdCb2FyZDtcclxuXHJcbiAgICBjb25zdCBfZ2V0SW5kZXhGcm9tQ29vcmQgPSAoeCx5KSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIChsZW5ndGggKiB5KSArIHhcclxuICAgIH1cclxuICAgIGNvbnN0IGdldFBvcyA9ICh4LCB5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBfZ2V0SW5kZXhGcm9tQ29vcmQoeCwgeSk7XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IF9zZXRQb3MgPSAoeCwgeSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZ2V0UG9zKHgsIHkpO1xyXG4gICAgICAgIGluZGV4ID0gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBfaGl0RXhpc3RzID0gKHBvcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBvc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHBvcyk7XHJcbiAgICAgICAgbGV0IGNvbnRhaW5zSGl0cyA9IGhpdHMuc29tZSgoZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSkgPT09IHBvc1N0cmluZztcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBjb250YWluc0hpdHM7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgX21pc3NFeGlzdHMgPSAocG9zKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9zU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocG9zKTtcclxuICAgICAgICBsZXQgY29udGFpbnNNaXNzID0gbWlzc2VkU2hvdHMuc29tZSgoZSkgPT4ge1xyXG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZSkgPT09IHBvc1N0cmluZztcclxuICAgICAgICB9KVxyXG4gICAgICAgIHJldHVybiBjb250YWluc01pc3M7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcmVjZWl2ZUF0dGFjayA9ICh4LCB5KSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9zID0gW3gsIHldO1xyXG4gICAgICAgIGlmIChfaGl0RXhpc3RzKHBvcykgfHwgX21pc3NFeGlzdHMocG9zKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzaGlwID0gYm9hcmRbZ2V0UG9zKHgseSldO1xyXG4gICAgICAgIGlmIChzaGlwICYmIHNoaXAuaGl0KSB7XHJcbiAgICAgICAgICAgIGhpdHMucHVzaChwb3MpO1xyXG4gICAgICAgICAgICBzaGlwLmhpdCgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG1pc3NlZFNob3RzLnB1c2gocG9zKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgcGxhY2VTaGlwID0gKHNpemUsIHBvcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHggPSBwb3MueDtcclxuICAgICAgICBjb25zdCB5ID0gcG9zLnk7XHJcbiAgICAgICAgY29uc3Qgc3RhcnRJbmRleCA9IGdldFBvcyh4LCB5KTtcclxuICAgICAgICBpZiAoIV9pc1NoaXBQb3NpdGlvblZhbGlkKHNpemUsIHBvcykpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdQb3NpdGlvbiBhbHJlYWR5IGhhcyBzaGlwJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGxldCBzaGlwID0gU2hpcEZhY3Rvcnkoc2l6ZSk7XHJcbiAgICAgICAgbGV0IG5ld0JvYXJkID0gZ2V0Qm9hcmQoKTtcclxuICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgc2hpcC5nZXRMZW5ndGgoKTsgaSsrKSB7XHJcbiAgICAgICAgICAgIG5ld0JvYXJkW3N0YXJ0SW5kZXggKyBpXSA9IHNoaXA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBfc2V0Qm9hcmQobmV3Qm9hcmQpO1xyXG4gICAgICAgIHJldHVybiBib2FyZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBfaXNTaGlwUG9zaXRpb25WYWxpZCA9IChzaXplLCBwb3MpID0+IHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNpemU7IGkrKykge1xyXG4gICAgICAgICAgICBsZXQgeCA9IHBvcy54ICsgaTtcclxuICAgICAgICAgICAgbGV0IHkgPSBwb3MueSArIGk7XHJcbiAgICAgICAgICAgIGlmICh4ID4gbGVuZ3RoIC0gMSB8fCB5ID4gbGVuZ3RoIC0gMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGxldCBib2FyZEluZGV4ID0gZ2V0UG9zKHBvcy54ICsgaSwgcG9zLnkpO1xyXG4gICAgICAgICAgICBpZiAoZ2V0Qm9hcmQoKVtib2FyZEluZGV4XSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzQWxsU3VuayA9ICgpID0+IHtcclxuICAgICAgICBmb3IgKGNvbnN0IHBvcyBvZiBib2FyZCkge1xyXG4gICAgICAgICAgICBpZihwb3MgJiYgcG9zLmlzU3Vuaykge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFwb3MuaXNTdW5rKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgZ2VuZXJhdGVCb2FyZCA9ICgpID0+IHtcclxuICAgICAgICBjb25zdCBzaGlwc1RvQ3JlYXRlID0gWzIsIDIsIDIsIDMsIDMsIDRdO1xyXG4gICAgICAgIGNvbnN0IHNoaXBzQ3JlYXRlZCA9IFtdO1xyXG4gICAgICAgIHdoaWxlIChzaGlwc1RvQ3JlYXRlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc3QgbmV3U2hpcFNpemUgPSBzaGlwc1RvQ3JlYXRlLnNoaWZ0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1NoaXBQb3MgPSBfZ2V0VmFsaWRSYW5kb21TaGlwUG9zaXRpb24obmV3U2hpcFNpemUpO1xyXG4gICAgICAgICAgICBwbGFjZVNoaXAobmV3U2hpcFNpemUsIG5ld1NoaXBQb3MpO1xyXG4gICAgICAgICAgICBzaGlwc0NyZWF0ZWQucHVzaCh7eDogbmV3U2hpcFBvcy54LCB5OiBuZXdTaGlwUG9zLnl9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHNoaXBzQ3JlYXRlZDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBfZ2V0VmFsaWRSYW5kb21TaGlwUG9zaXRpb24gPSAoc2l6ZSkgPT4ge1xyXG4gICAgICAgIGxldCB4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIGxlbmd0aCkpO1xyXG4gICAgICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGVuZ3RoKTtcclxuICAgICAgICB3aGlsZSghX2lzU2hpcFBvc2l0aW9uVmFsaWQoc2l6ZSwge3gsIHl9KSkge1xyXG4gICAgICAgICAgICB4ID0gTWF0aC5mbG9vcigoTWF0aC5yYW5kb20oKSAqIGxlbmd0aCkpO1xyXG4gICAgICAgICAgICB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogbGVuZ3RoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHt4LCB5fTtcclxuICAgIH1cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0Qm9hcmQsXHJcbiAgICAgICAgZ2V0UG9zLFxyXG4gICAgICAgIHBsYWNlU2hpcCxcclxuICAgICAgICByZWNlaXZlQXR0YWNrLFxyXG4gICAgICAgIGdldE1pc3NlZFNob3RzLFxyXG4gICAgICAgIGlzQWxsU3VuayxcclxuICAgICAgICBnZXRIaXRzLFxyXG4gICAgICAgIGdlbmVyYXRlQm9hcmRcclxuICAgIH1cclxufSIsImV4cG9ydCBjb25zdCBTaGlwRmFjdG9yeSA9IChzaGlwTGVuZ3RoID0gMikgPT4ge1xyXG4gICAgbGV0IHRpbWVzSGl0ID0gMDtcclxuICAgIGNvbnN0IGdldFRpbWVzSGl0ID0gKCkgPT4gdGltZXNIaXQ7XHJcblxyXG4gICAgbGV0IGxlbmd0aCA9IHNoaXBMZW5ndGg7XHJcbiAgICBjb25zdCBnZXRMZW5ndGggPSAoKSA9PiBsZW5ndGg7XHJcblxyXG4gICAgY29uc3QgaGl0ID0gKCkgPT4ge1xyXG4gICAgICAgIGlmIChpc1N1bmsoKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRpbWVzSGl0Kys7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaXNTdW5rID0gKCkgPT4ge1xyXG4gICAgICAgIHJldHVybiB0aW1lc0hpdCA+PSBsZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXRUaW1lc0hpdCxcclxuICAgICAgICBnZXRMZW5ndGgsXHJcbiAgICAgICAgaGl0LFxyXG4gICAgICAgIGlzU3VuayxcclxuICAgIH1cclxufSIsIlxuICAgICAgaW1wb3J0IEFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qc1wiO1xuICAgICAgaW1wb3J0IGRvbUFQSSBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0Rm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzXCI7XG4gICAgICBpbXBvcnQgc2V0QXR0cmlidXRlcyBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3NldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlcy5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydFN0eWxlRWxlbWVudCBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qc1wiO1xuICAgICAgaW1wb3J0IHN0eWxlVGFnVHJhbnNmb3JtRm4gZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZVRhZ1RyYW5zZm9ybS5qc1wiO1xuICAgICAgaW1wb3J0IGNvbnRlbnQsICogYXMgbmFtZWRFeHBvcnQgZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9HYW1lYm9hcmRDb21wb25lbnQuY3NzXCI7XG4gICAgICBcbiAgICAgIFxuXG52YXIgb3B0aW9ucyA9IHt9O1xuXG5vcHRpb25zLnN0eWxlVGFnVHJhbnNmb3JtID0gc3R5bGVUYWdUcmFuc2Zvcm1Gbjtcbm9wdGlvbnMuc2V0QXR0cmlidXRlcyA9IHNldEF0dHJpYnV0ZXM7XG5cbiAgICAgIG9wdGlvbnMuaW5zZXJ0ID0gaW5zZXJ0Rm4uYmluZChudWxsLCBcImhlYWRcIik7XG4gICAgXG5vcHRpb25zLmRvbUFQSSA9IGRvbUFQSTtcbm9wdGlvbnMuaW5zZXJ0U3R5bGVFbGVtZW50ID0gaW5zZXJ0U3R5bGVFbGVtZW50O1xuXG52YXIgdXBkYXRlID0gQVBJKGNvbnRlbnQsIG9wdGlvbnMpO1xuXG5cblxuZXhwb3J0ICogZnJvbSBcIiEhLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9janMuanMhLi9HYW1lYm9hcmRDb21wb25lbnQuY3NzXCI7XG4gICAgICAgZXhwb3J0IGRlZmF1bHQgY29udGVudCAmJiBjb250ZW50LmxvY2FscyA/IGNvbnRlbnQubG9jYWxzIDogdW5kZWZpbmVkO1xuIiwiaW1wb3J0ICcuL0dhbWVib2FyZENvbXBvbmVudC5jc3MnO1xyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWVib2FyZENvbXBvbmVudCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwbGF5ZXIsIGhpZGVTaGlwcyA9IGZhbHNlKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5nYW1lYm9hcmQgPSBwbGF5ZXIuZ2FtZUJvYXJkO1xyXG4gICAgICAgIHRoaXMuaGlkZVNoaXBzID0gaGlkZVNoaXBzO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBnYW1lYm9hcmREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBnYW1lYm9hcmREaXYuY2xhc3NMaXN0LmFkZCgnZ2FtZWJvYXJkLWNvbnRhaW5lcicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJvYXJkSXRlbXMgPSB0aGlzLmdhbWVib2FyZC5nZXRCb2FyZCgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lYm9hcmQuZ2V0Qm9hcmQoKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBnYW1lYm9hcmRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGdhbWVib2FyZEl0ZW0uY2xhc3NMaXN0LmFkZCgnZ2FtZWJvYXJkLWl0ZW0nKTtcclxuICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS50ZXh0Q29udGVudCA9IGk7XHJcbiAgICAgICAgICAgIGdhbWVib2FyZEl0ZW0ucG9zaXRpb24gPSBpO1xyXG5cclxuICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGUuY3VycmVudFRhcmdldC5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAoYm9hcmRJdGVtc1tpXSAmJiAhdGhpcy5oaWRlU2hpcHMpIHtcclxuICAgICAgICAgICAgICAgIGdhbWVib2FyZEl0ZW0uY2xhc3NMaXN0LmFkZCgnc2hpcCcpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmKGJvYXJkSXRlbXNbaV0uaXNTdW5rKCkpIHtcclxuICAgICAgICAgICAgICAgICAgICBnYW1lYm9hcmRJdGVtLmNsYXNzTGlzdC5hZGQoJ3N1bmsnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgZ2FtZWJvYXJkRGl2LmFwcGVuZENoaWxkKGdhbWVib2FyZEl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gZ2FtZWJvYXJkRGl2O1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IHsgUGxheWVyLCBBSVBsYXllciB9IGZyb20gXCIuL3BsYXllci9wbGF5ZXJcIjtcclxuaW1wb3J0IHsgR2FtZWJvYXJkQ29tcG9uZW50IH0gZnJvbSBcIi4vZ2FtZWJvYXJkL0dhbWVib2FyZENvbXBvbmVudFwiO1xyXG5cclxuXHJcbmV4cG9ydCBjb25zdCBHYW1lID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcGxheWVyMSA9IFBsYXllcigpO1xyXG4gICAgcGxheWVyMS5nYW1lQm9hcmQuZ2VuZXJhdGVCb2FyZCgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBwbGF5ZXIyID0gQUlQbGF5ZXIoKTtcclxuICAgIHBsYXllcjIuZ2FtZUJvYXJkLmdlbmVyYXRlQm9hcmQoKTtcclxuXHJcbiAgICBjb25zdCBwMWdhbWVCb2FyZCA9IG5ldyBHYW1lYm9hcmRDb21wb25lbnQocGxheWVyMSk7XHJcbiAgICBjb25zdCBwMmdhbWVCb2FyZCA9IG5ldyBHYW1lYm9hcmRDb21wb25lbnQocGxheWVyMiwgdHJ1ZSk7XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBwbGF5ZXIxLFxyXG4gICAgICAgIHBsYXllcjIsXHJcbiAgICAgICAgcDFnYW1lQm9hcmQsXHJcbiAgICAgICAgcDJnYW1lQm9hcmRcclxuICAgIH1cclxufSIsImltcG9ydCAnLi9hcHAuY3NzJztcclxuXHJcbmltcG9ydCB7IEdhbWUgfSBmcm9tIFwiLi9HYW1lXCI7XHJcblxyXG4oKCkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2JhdHRsZXNoaXAgYXBwIGxvYWRlZCcpO1xyXG4gICAgY29uc3Qgd3JhcHBlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy53cmFwcGVyJyk7XHJcbiAgICBcclxuICAgIGNvbnN0IGdhbWVPYmogPSBHYW1lKCk7XHJcbiAgICBjb25zb2xlLmxvZyhnYW1lT2JqKTtcclxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZ2FtZU9iai5wMWdhbWVCb2FyZC5yZW5kZXIoKSk7XHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGdhbWVPYmoucDJnYW1lQm9hcmQucmVuZGVyKCkpO1xyXG59KSgpOyJdLCJuYW1lcyI6WyJfX19DU1NfTE9BREVSX0VYUE9SVF9fXyIsInB1c2giLCJtb2R1bGUiLCJpZCIsImV4cG9ydHMiLCJjc3NXaXRoTWFwcGluZ1RvU3RyaW5nIiwibGlzdCIsInRvU3RyaW5nIiwidGhpcyIsIm1hcCIsIml0ZW0iLCJjb250ZW50IiwibmVlZExheWVyIiwiY29uY2F0IiwibGVuZ3RoIiwiam9pbiIsImkiLCJtb2R1bGVzIiwibWVkaWEiLCJkZWR1cGUiLCJzdXBwb3J0cyIsImxheWVyIiwidW5kZWZpbmVkIiwiYWxyZWFkeUltcG9ydGVkTW9kdWxlcyIsImsiLCJfayIsImNzc01hcHBpbmciLCJidG9hIiwiYmFzZTY0IiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiZGF0YSIsInNvdXJjZU1hcHBpbmciLCJzdHlsZXNJbkRPTSIsImdldEluZGV4QnlJZGVudGlmaWVyIiwiaWRlbnRpZmllciIsInJlc3VsdCIsIm1vZHVsZXNUb0RvbSIsIm9wdGlvbnMiLCJpZENvdW50TWFwIiwiaWRlbnRpZmllcnMiLCJiYXNlIiwiY291bnQiLCJpbmRleEJ5SWRlbnRpZmllciIsIm9iaiIsImNzcyIsInNvdXJjZU1hcCIsInJlZmVyZW5jZXMiLCJ1cGRhdGVyIiwiYWRkRWxlbWVudFN0eWxlIiwiYnlJbmRleCIsInNwbGljZSIsImFwaSIsImRvbUFQSSIsInVwZGF0ZSIsIm5ld09iaiIsInJlbW92ZSIsImxhc3RJZGVudGlmaWVycyIsIm5ld0xpc3QiLCJpbmRleCIsIm5ld0xhc3RJZGVudGlmaWVycyIsIl9pIiwiX2luZGV4IiwibWVtbyIsImluc2VydCIsInN0eWxlIiwidGFyZ2V0Iiwic3R5bGVUYXJnZXQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJ3aW5kb3ciLCJIVE1MSUZyYW1lRWxlbWVudCIsImNvbnRlbnREb2N1bWVudCIsImhlYWQiLCJlIiwiZ2V0VGFyZ2V0IiwiRXJyb3IiLCJhcHBlbmRDaGlsZCIsImVsZW1lbnQiLCJjcmVhdGVFbGVtZW50Iiwic2V0QXR0cmlidXRlcyIsImF0dHJpYnV0ZXMiLCJzdHlsZUVsZW1lbnQiLCJub25jZSIsInNldEF0dHJpYnV0ZSIsImluc2VydFN0eWxlRWxlbWVudCIsInN0eWxlVGFnVHJhbnNmb3JtIiwiYXBwbHkiLCJwYXJlbnROb2RlIiwicmVtb3ZlQ2hpbGQiLCJyZW1vdmVTdHlsZUVsZW1lbnQiLCJzdHlsZVNoZWV0IiwiY3NzVGV4dCIsImZpcnN0Q2hpbGQiLCJjcmVhdGVUZXh0Tm9kZSIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iLCJuIiwiZ2V0dGVyIiwiX19lc01vZHVsZSIsImQiLCJhIiwiZGVmaW5pdGlvbiIsImtleSIsIm8iLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImVudW1lcmFibGUiLCJnZXQiLCJwcm9wIiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwibmMiLCJpc0FycmF5IiwiQXJyYXkiLCJSZWR1Y2VTdG9wcGVyIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsInJlZHVjZUZuIiwicmVkdWNlciIsImFjYyIsIlR5cGVFcnJvciIsImxlbiIsIl9waXBlIiwiZiIsImciLCJhcmd1bWVudHMiLCJjdXJyeSIsImZuIiwiYXJncyIsIl9hcmdzIiwicmVzdCIsIlBsYXllciIsImdhbWVCb2FyZCIsImJvYXJkTGVuZ3RoIiwibWlzc2VkU2hvdHMiLCJoaXRzIiwiYm9hcmQiLCJnZXRCb2FyZCIsImdldFBvcyIsIngiLCJ5IiwiX2dldEluZGV4RnJvbUNvb3JkIiwicGxhY2VTaGlwIiwic2l6ZSIsInBvcyIsInN0YXJ0SW5kZXgiLCJfaXNTaGlwUG9zaXRpb25WYWxpZCIsInNoaXAiLCJzaGlwTGVuZ3RoIiwidGltZXNIaXQiLCJpc1N1bmsiLCJnZXRUaW1lc0hpdCIsImdldExlbmd0aCIsImhpdCIsIlNoaXBGYWN0b3J5IiwibmV3Qm9hcmQiLCJfc2V0Qm9hcmQiLCJib2FyZEluZGV4IiwiX2dldFZhbGlkUmFuZG9tU2hpcFBvc2l0aW9uIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicmVjZWl2ZUF0dGFjayIsInBvc1N0cmluZyIsInNvbWUiLCJfaGl0RXhpc3RzIiwiX21pc3NFeGlzdHMiLCJnZXRNaXNzZWRTaG90cyIsImlzQWxsU3VuayIsImdldEhpdHMiLCJnZW5lcmF0ZUJvYXJkIiwic2hpcHNUb0NyZWF0ZSIsInNoaXBzQ3JlYXRlZCIsIm5ld1NoaXBTaXplIiwic2hpZnQiLCJuZXdTaGlwUG9zIiwiR2FtZWJvYXJkRmFjdG9yeSIsImlzQ3VycmVudFBsYXllciIsInNldElzQ3VycmVudFBsYXllciIsInN0YXR1cyIsImdldElzQ3VycmVudFBsYXllciIsInRvZ2dsZUlzQ3VycmVudFBsYXllciIsImlzQUlQbGF5ZXIiLCJwbGF5ZXIiLCJnZXROZXh0QXR0YWNrIiwicG93IiwiaXNBSSIsImhpZGVTaGlwcyIsImdhbWVib2FyZCIsInJlbmRlciIsImdhbWVib2FyZERpdiIsImNsYXNzTGlzdCIsImFkZCIsImJvYXJkSXRlbXMiLCJnYW1lYm9hcmRJdGVtIiwidGV4dENvbnRlbnQiLCJwb3NpdGlvbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjdXJyZW50VGFyZ2V0IiwiY29uc29sZSIsImxvZyIsIkdhbWUiLCJwbGF5ZXIxIiwicGxheWVyMiIsImEwIiwiYTEiLCJhMiIsImEzIiwiYTQiLCJhNSIsImE2IiwiYTciLCJhOCIsImE5IiwiX2FyaXR5Iiwic2xpY2UiLCJJbmZpbml0eSIsInBpcGUiLCJBSVBsYXllciIsInAxZ2FtZUJvYXJkIiwicDJnYW1lQm9hcmQiLCJ3cmFwcGVyIiwiZ2FtZU9iaiJdLCJzb3VyY2VSb290IjoiIn0=