(()=>{"use strict";var r={780:(r,e,t)=>{t.d(e,{Z:()=>i});var n=t(537),o=t.n(n),a=t(645),s=t.n(a)()(o());s.push([r.id,".wrapper {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-items: center;\r\n}","",{version:3,sources:["webpack://./src/app.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;AACzB",sourcesContent:[".wrapper {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-items: center;\r\n}"],sourceRoot:""}]);const i=s},582:(r,e,t)=>{t.d(e,{Z:()=>i});var n=t(537),o=t.n(n),a=t(645),s=t.n(a)()(o());s.push([r.id,".gameboard-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 50px);\r\n    grid-template-rows: repeat(10, 50px);\r\n}\r\n\r\n.gameboard-item {\r\n    display: grid;\r\n    align-items: center;\r\n    justify-items: center;\r\n    border: 1px solid #777;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ship {\r\n    background-color: #333;\r\n    color: #fff;\r\n}","",{version:3,sources:["webpack://./src/gameboard/GameboardComponent.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,uCAAuC;IACvC,oCAAoC;AACxC;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,sBAAsB;IACtB,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;IACtB,WAAW;AACf",sourcesContent:[".gameboard-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 50px);\r\n    grid-template-rows: repeat(10, 50px);\r\n}\r\n\r\n.gameboard-item {\r\n    display: grid;\r\n    align-items: center;\r\n    justify-items: center;\r\n    border: 1px solid #777;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ship {\r\n    background-color: #333;\r\n    color: #fff;\r\n}"],sourceRoot:""}]);const i=s},645:r=>{r.exports=function(r){var e=[];return e.toString=function(){return this.map((function(e){var t="",n=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),n&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=r(e),n&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(r,t,n,o,a){"string"==typeof r&&(r=[[null,r,void 0]]);var s={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var u=0;u<r.length;u++){var l=[].concat(r[u]);n&&s[l[0]]||(void 0!==a&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=a),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},537:r=>{r.exports=function(r){var e=r[1],t=r[3];if(!t)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),a="/*# ".concat(o," */");return[e].concat([a]).join("\n")}return[e].join("\n")}},379:r=>{var e=[];function t(r){for(var t=-1,n=0;n<e.length;n++)if(e[n].identifier===r){t=n;break}return t}function n(r,n){for(var a={},s=[],i=0;i<r.length;i++){var c=r[i],u=n.base?c[0]+n.base:c[0],l=a[u]||0,p="".concat(u," ").concat(l);a[u]=l+1;var d=t(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=o(f,n);n.byIndex=i,e.splice(i,0,{identifier:p,updater:h,references:1})}s.push(p)}return s}function o(r,e){var t=e.domAPI(e);return t.update(r),function(e){if(e){if(e.css===r.css&&e.media===r.media&&e.sourceMap===r.sourceMap&&e.supports===r.supports&&e.layer===r.layer)return;t.update(r=e)}else t.remove()}}r.exports=function(r,o){var a=n(r=r||[],o=o||{});return function(r){r=r||[];for(var s=0;s<a.length;s++){var i=t(a[s]);e[i].references--}for(var c=n(r,o),u=0;u<a.length;u++){var l=t(a[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}a=c}}},569:r=>{var e={};r.exports=function(r,t){var n=function(r){if(void 0===e[r]){var t=document.querySelector(r);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(r){t=null}e[r]=t}return e[r]}(r);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}},216:r=>{r.exports=function(r){var e=document.createElement("style");return r.setAttributes(e,r.attributes),r.insert(e,r.options),e}},565:(r,e,t)=>{r.exports=function(r){var e=t.nc;e&&r.setAttribute("nonce",e)}},795:r=>{r.exports=function(r){var e=r.insertStyleElement(r);return{update:function(t){!function(r,e,t){var n="";t.supports&&(n+="@supports (".concat(t.supports,") {")),t.media&&(n+="@media ".concat(t.media," {"));var o=void 0!==t.layer;o&&(n+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),n+=t.css,o&&(n+="}"),t.media&&(n+="}"),t.supports&&(n+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(n,r,e.options)}(e,r,t)},remove:function(){!function(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r)}(e)}}}},589:r=>{r.exports=function(r,e){if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},e={};function t(n){var o=e[n];if(void 0!==o)return o.exports;var a=e[n]={id:n,exports:{}};return r[n](a,a.exports,t),a.exports}t.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return t.d(e,{a:e}),e},t.d=(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t.nc=void 0,(()=>{var r=t(379),e=t.n(r),n=t(795),o=t.n(n),a=t(569),s=t.n(a),i=t(565),c=t.n(i),u=t(216),l=t.n(u),p=t(589),d=t.n(p),f=t(780),h={};h.styleTagTransform=d(),h.setAttributes=c(),h.insert=s().bind(null,"head"),h.domAPI=o(),h.insertStyleElement=l(),e()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const{isArray:m}=Array;class g{constructor(r){this.value=r}}function y(r,e,t){if(!m(t))throw new TypeError("reduce: list must be array or iterable");let n=0;const o=t.length;for(;n<o;){if((e=r(e,t[n],n,t))instanceof g)return e.value;n++}return e}function A(r,e){return function(){return e.call(this,r.apply(this,arguments))}}!function r(e,t=[]){return(...n)=>{return(o=[...t,...n]).length>=e.length?e(...o):r(e,o);var o}}(y);const v=()=>{let r=((r=10)=>{const e=r,t=[],n=[];let o=new Array(e*e);const a=()=>o,s=(r,t)=>{const n=((r,t)=>e*t+r)(r,t);return n},i=(r,e)=>{const t=e.x,n=e.y,i=s(t,n);if(!c(r,e))throw new Error("Position already has ship");let u=((r=2)=>{let e=0,t=r;const n=()=>e>=t;return{getTimesHit:()=>e,getLength:()=>t,hit:()=>{n()||e++},isSunk:n}})(r),l=a();for(let r=0;r<u.getLength();r++)l[i+r]=u;return(r=>{o=r})(l),o},c=(r,t)=>{for(let n=0;n<r;n++){let r=t.x+n,o=t.y+n;if(r>e-1||o>e-1)return!1;let i=s(t.x+n,t.y);if(a()[i])return!1}return!0},u=r=>{let t=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);for(;!c(r,{x:t,y:n});)t=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);return{x:t,y:n}};return{getBoard:a,getPos:s,placeShip:i,receiveAttack:(r,e)=>{const a=[r,e];if((r=>{const e=JSON.stringify(r);return n.some((r=>JSON.stringify(r)===e))})(a)||(r=>{const e=JSON.stringify(r);return t.some((r=>JSON.stringify(r)===e))})(a))return;const i=o[s(r,e)];i&&i.hit?(n.push(a),i.hit()):t.push(a)},getMissedShots:()=>t,isAllSunk:()=>{for(const r of o)if(r&&r.isSunk&&!r.isSunk())return!1;return!0},getHits:()=>n,generateBoard:()=>{const r=[2,2,2,3,3,4],e=[];for(;r.length>0;){const t=r.shift(),n=u(t);i(t,n),e.push({x:n.x,y:n.y})}return e}}})(),e=!1;const t=r=>e=r;return{gameBoard:r,getIsCurrentPlayer:()=>e,setIsCurrentPlayer:t,toggleIsCurrentPlayer:()=>t(!e)}},b=(r={})=>({...r,getNextAttack:()=>({x:Math.floor(Math.random()*Math.pow(10,2)),y:Math.floor(Math.random()*Math.pow(10,2)),isAI:!0})});var C=t(582),x={};x.styleTagTransform=d(),x.setAttributes=c(),x.insert=s().bind(null,"head"),x.domAPI=o(),x.insertStyleElement=l(),e()(C.Z,x),C.Z&&C.Z.locals&&C.Z.locals;class B{constructor(r){this.player=r,this.gameboard=r.gameBoard}render(){const r=document.createElement("div");r.classList.add("gameboard-container");const e=this.gameboard.getBoard();for(let t=0;t<this.gameboard.getBoard().length;t++){const n=document.createElement("div");n.classList.add("gameboard-item"),n.textContent=t,n.position=t,n.addEventListener("click",(r=>{const e=r.currentTarget.position;console.log("clicked "+e)})),e[t]&&(n.classList.add("ship"),e[t].isSunk()&&n.classList.add("sunk")),r.appendChild(n)}return r}}const I=()=>{const r=v();r.gameBoard.generateBoard();const e=(()=>{const r=v();return function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return function(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,t){return e.apply(this,arguments)};case 3:return function(r,t,n){return e.apply(this,arguments)};case 4:return function(r,t,n,o){return e.apply(this,arguments)};case 5:return function(r,t,n,o,a){return e.apply(this,arguments)};case 6:return function(r,t,n,o,a,s){return e.apply(this,arguments)};case 7:return function(r,t,n,o,a,s,i){return e.apply(this,arguments)};case 8:return function(r,t,n,o,a,s,i,c){return e.apply(this,arguments)};case 9:return function(r,t,n,o,a,s,i,c,u){return e.apply(this,arguments)};case 10:return function(r,t,n,o,a,s,i,c,u,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(arguments[0].length,y(A,arguments[0],Array.prototype.slice.call(arguments,1,1/0)))}(b)(r)})();return e.gameBoard.generateBoard(),{player1:r,player2:e,p1gameBoard:new B(r),p2gameBoard:new B(e)}};(()=>{console.log("battleship app loaded");const r=document.querySelector(".wrapper"),e=I();console.log(e),r.appendChild(e.p1gameBoard.render()),r.appendChild(e.p2gameBoard.render())})()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QmUsVUFBVyxFQUFHMEYsTUFHdEIsQ0VwRFdDLENBQ1BsQyxFQURPa0MsQ0FFTGpDLEVBQU0sRUs5QlFrQyxHQU1oQixPQUxBZixFQUFRdEUsVUFBVXNDLGdCQUtYLENBQ0grQixVQUNBQyxVQUNBZ0IsWUFOZ0IsSUFBSSxFQUFtQmpCLEdBT3ZDa0IsWUFOZ0IsSUFBSSxFQUFtQmpCLEdBTzNDLEVDZkosTUFDSUosUUFBUUMsSUFBSSx5QkFDWixNQUFNcUIsRUFBVTdKLFNBQVNDLGNBQWMsWUFFakM2SixFQUFVckIsSUFDaEJGLFFBQVFDLElBQUlzQixHQUNaRCxFQUFRcEosWUFBWXFKLEVBQVFILFlBQVk5QixVQUN4Q2dDLEVBQVFwSixZQUFZcUosRUFBUUYsWUFBWS9CLFNBQzNDLEVBUkQsRSIsInNvdXJjZXMiOlsid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9hcHAuY3NzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQvR2FtZWJvYXJkQ29tcG9uZW50LmNzcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luamVjdFN0eWxlc0ludG9TdHlsZVRhZy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRCeVNlbGVjdG9yLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydFN0eWxlRWxlbWVudC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvY29tcGF0IGdldCBkZWZhdWx0IGV4cG9ydCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL3J1bnRpbWUvbm9uY2UiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2FwcC5jc3M/YTY3MiIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvcmFtYmRhL3NyYy9faW50ZXJuYWxzL2lzQXJyYXkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3JhbWJkYS9zcmMvcmVkdWNlLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9yYW1iZGEvc3JjL3BpcGUuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3JhbWJkYS9zcmMvY3VycnkuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3BsYXllci9wbGF5ZXIuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC9nYW1lYm9hcmQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL3NoaXAvc2hpcC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkL0dhbWVib2FyZENvbXBvbmVudC5jc3M/ZjlkZSIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkL0dhbWVib2FyZENvbXBvbmVudC5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvR2FtZS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvYXBwLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLndyYXBwZXIge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XFxyXFxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcXHJcXG59XCIsIFwiXCIse1widmVyc2lvblwiOjMsXCJzb3VyY2VzXCI6W1wid2VicGFjazovLy4vc3JjL2FwcC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxhQUFhO0lBQ2IsOEJBQThCO0lBQzlCLHFCQUFxQjtBQUN6QlwiLFwic291cmNlc0NvbnRlbnRcIjpbXCIud3JhcHBlciB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMWZyIDFmcjtcXHJcXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiLy8gSW1wb3J0c1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18gZnJvbSBcIi4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9zb3VyY2VNYXBzLmpzXCI7XG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvYXBpLmpzXCI7XG52YXIgX19fQ1NTX0xPQURFUl9FWFBPUlRfX18gPSBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18oX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyk7XG4vLyBNb2R1bGVcbl9fX0NTU19MT0FERVJfRVhQT1JUX19fLnB1c2goW21vZHVsZS5pZCwgXCIuZ2FtZWJvYXJkLWNvbnRhaW5lciB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogcmVwZWF0KDEwLCA1MHB4KTtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1yb3dzOiByZXBlYXQoMTAsIDUwcHgpO1xcclxcbn1cXHJcXG5cXHJcXG4uZ2FtZWJvYXJkLWl0ZW0ge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcclxcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGJvcmRlcjogMXB4IHNvbGlkICM3Nzc7XFxyXFxuICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxyXFxufVxcclxcblxcclxcbi5zaGlwIHtcXHJcXG4gICAgYmFja2dyb3VuZC1jb2xvcjogIzMzMztcXHJcXG4gICAgY29sb3I6ICNmZmY7XFxyXFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9nYW1lYm9hcmQvR2FtZWJvYXJkQ29tcG9uZW50LmNzc1wiXSxcIm5hbWVzXCI6W10sXCJtYXBwaW5nc1wiOlwiQUFBQTtJQUNJLGFBQWE7SUFDYix1Q0FBdUM7SUFDdkMsb0NBQW9DO0FBQ3hDOztBQUVBO0lBQ0ksYUFBYTtJQUNiLG1CQUFtQjtJQUNuQixxQkFBcUI7SUFDckIsc0JBQXNCO0lBQ3RCLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLHNCQUFzQjtJQUN0QixXQUFXO0FBQ2ZcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLmdhbWVib2FyZC1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgNTBweCk7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCA1MHB4KTtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbWVib2FyZC1pdGVtIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzc3O1xcclxcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcCB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxyXFxuICAgIGNvbG9yOiAjZmZmO1xcclxcbn1cIl0sXCJzb3VyY2VSb290XCI6XCJcIn1dKTtcbi8vIEV4cG9ydHNcbmV4cG9ydCBkZWZhdWx0IF9fX0NTU19MT0FERVJfRVhQT1JUX19fO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qXG4gIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXG4gIEF1dGhvciBUb2JpYXMgS29wcGVycyBAc29rcmFcbiovXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKSB7XG4gIHZhciBsaXN0ID0gW107XG5cbiAgLy8gcmV0dXJuIHRoZSBsaXN0IG9mIG1vZHVsZXMgYXMgY3NzIHN0cmluZ1xuICBsaXN0LnRvU3RyaW5nID0gZnVuY3Rpb24gdG9TdHJpbmcoKSB7XG4gICAgcmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICB2YXIgY29udGVudCA9IFwiXCI7XG4gICAgICB2YXIgbmVlZExheWVyID0gdHlwZW9mIGl0ZW1bNV0gIT09IFwidW5kZWZpbmVkXCI7XG4gICAgICBpZiAoaXRlbVs0XSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIik7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwiQG1lZGlhIFwiLmNvbmNhdChpdGVtWzJdLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwiQGxheWVyXCIuY29uY2F0KGl0ZW1bNV0ubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChpdGVtWzVdKSA6IFwiXCIsIFwiIHtcIik7XG4gICAgICB9XG4gICAgICBjb250ZW50ICs9IGNzc1dpdGhNYXBwaW5nVG9TdHJpbmcoaXRlbSk7XG4gICAgICBpZiAobmVlZExheWVyKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICBpZiAoaXRlbVsyXSkge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZW50O1xuICAgIH0pLmpvaW4oXCJcIik7XG4gIH07XG5cbiAgLy8gaW1wb3J0IGEgbGlzdCBvZiBtb2R1bGVzIGludG8gdGhlIGxpc3RcbiAgbGlzdC5pID0gZnVuY3Rpb24gaShtb2R1bGVzLCBtZWRpYSwgZGVkdXBlLCBzdXBwb3J0cywgbGF5ZXIpIHtcbiAgICBpZiAodHlwZW9mIG1vZHVsZXMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIG1vZHVsZXMgPSBbW251bGwsIG1vZHVsZXMsIHVuZGVmaW5lZF1dO1xuICAgIH1cbiAgICB2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcyA9IHt9O1xuICAgIGlmIChkZWR1cGUpIHtcbiAgICAgIGZvciAodmFyIGsgPSAwOyBrIDwgdGhpcy5sZW5ndGg7IGsrKykge1xuICAgICAgICB2YXIgaWQgPSB0aGlzW2tdWzBdO1xuICAgICAgICBpZiAoaWQgIT0gbnVsbCkge1xuICAgICAgICAgIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBmb3IgKHZhciBfayA9IDA7IF9rIDwgbW9kdWxlcy5sZW5ndGg7IF9rKyspIHtcbiAgICAgIHZhciBpdGVtID0gW10uY29uY2F0KG1vZHVsZXNbX2tdKTtcbiAgICAgIGlmIChkZWR1cGUgJiYgYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgbGF5ZXIgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBpdGVtWzVdID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs1XSA9IGxheWVyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobWVkaWEpIHtcbiAgICAgICAgaWYgKCFpdGVtWzJdKSB7XG4gICAgICAgICAgaXRlbVsyXSA9IG1lZGlhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN1cHBvcnRzKSB7XG4gICAgICAgIGlmICghaXRlbVs0XSkge1xuICAgICAgICAgIGl0ZW1bNF0gPSBcIlwiLmNvbmNhdChzdXBwb3J0cyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaXRlbVsxXSA9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQoaXRlbVs0XSwgXCIpIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzRdID0gc3VwcG9ydHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGxpc3QucHVzaChpdGVtKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiBsaXN0O1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoaXRlbSkge1xuICB2YXIgY29udGVudCA9IGl0ZW1bMV07XG4gIHZhciBjc3NNYXBwaW5nID0gaXRlbVszXTtcbiAgaWYgKCFjc3NNYXBwaW5nKSB7XG4gICAgcmV0dXJuIGNvbnRlbnQ7XG4gIH1cbiAgaWYgKHR5cGVvZiBidG9hID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICB2YXIgYmFzZTY0ID0gYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoY3NzTWFwcGluZykpKSk7XG4gICAgdmFyIGRhdGEgPSBcInNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiLmNvbmNhdChiYXNlNjQpO1xuICAgIHZhciBzb3VyY2VNYXBwaW5nID0gXCIvKiMgXCIuY29uY2F0KGRhdGEsIFwiICovXCIpO1xuICAgIHJldHVybiBbY29udGVudF0uY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKTtcbiAgfVxuICByZXR1cm4gW2NvbnRlbnRdLmpvaW4oXCJcXG5cIik7XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgc3R5bGVzSW5ET00gPSBbXTtcblxuZnVuY3Rpb24gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcikge1xuICB2YXIgcmVzdWx0ID0gLTE7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHlsZXNJbkRPTS5sZW5ndGg7IGkrKykge1xuICAgIGlmIChzdHlsZXNJbkRPTVtpXS5pZGVudGlmaWVyID09PSBpZGVudGlmaWVyKSB7XG4gICAgICByZXN1bHQgPSBpO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbW9kdWxlc1RvRG9tKGxpc3QsIG9wdGlvbnMpIHtcbiAgdmFyIGlkQ291bnRNYXAgPSB7fTtcbiAgdmFyIGlkZW50aWZpZXJzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGl0ZW0gPSBsaXN0W2ldO1xuICAgIHZhciBpZCA9IG9wdGlvbnMuYmFzZSA/IGl0ZW1bMF0gKyBvcHRpb25zLmJhc2UgOiBpdGVtWzBdO1xuICAgIHZhciBjb3VudCA9IGlkQ291bnRNYXBbaWRdIHx8IDA7XG4gICAgdmFyIGlkZW50aWZpZXIgPSBcIlwiLmNvbmNhdChpZCwgXCIgXCIpLmNvbmNhdChjb3VudCk7XG4gICAgaWRDb3VudE1hcFtpZF0gPSBjb3VudCArIDE7XG4gICAgdmFyIGluZGV4QnlJZGVudGlmaWVyID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgdmFyIG9iaiA9IHtcbiAgICAgIGNzczogaXRlbVsxXSxcbiAgICAgIG1lZGlhOiBpdGVtWzJdLFxuICAgICAgc291cmNlTWFwOiBpdGVtWzNdLFxuICAgICAgc3VwcG9ydHM6IGl0ZW1bNF0sXG4gICAgICBsYXllcjogaXRlbVs1XVxuICAgIH07XG5cbiAgICBpZiAoaW5kZXhCeUlkZW50aWZpZXIgIT09IC0xKSB7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleEJ5SWRlbnRpZmllcl0ucmVmZXJlbmNlcysrO1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnVwZGF0ZXIob2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHVwZGF0ZXIgPSBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKTtcbiAgICAgIG9wdGlvbnMuYnlJbmRleCA9IGk7XG4gICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoaSwgMCwge1xuICAgICAgICBpZGVudGlmaWVyOiBpZGVudGlmaWVyLFxuICAgICAgICB1cGRhdGVyOiB1cGRhdGVyLFxuICAgICAgICByZWZlcmVuY2VzOiAxXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZGVudGlmaWVycy5wdXNoKGlkZW50aWZpZXIpO1xuICB9XG5cbiAgcmV0dXJuIGlkZW50aWZpZXJzO1xufVxuXG5mdW5jdGlvbiBhZGRFbGVtZW50U3R5bGUob2JqLCBvcHRpb25zKSB7XG4gIHZhciBhcGkgPSBvcHRpb25zLmRvbUFQSShvcHRpb25zKTtcbiAgYXBpLnVwZGF0ZShvYmopO1xuXG4gIHZhciB1cGRhdGVyID0gZnVuY3Rpb24gdXBkYXRlcihuZXdPYmopIHtcbiAgICBpZiAobmV3T2JqKSB7XG4gICAgICBpZiAobmV3T2JqLmNzcyA9PT0gb2JqLmNzcyAmJiBuZXdPYmoubWVkaWEgPT09IG9iai5tZWRpYSAmJiBuZXdPYmouc291cmNlTWFwID09PSBvYmouc291cmNlTWFwICYmIG5ld09iai5zdXBwb3J0cyA9PT0gb2JqLnN1cHBvcnRzICYmIG5ld09iai5sYXllciA9PT0gb2JqLmxheWVyKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgYXBpLnVwZGF0ZShvYmogPSBuZXdPYmopO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcGkucmVtb3ZlKCk7XG4gICAgfVxuICB9O1xuXG4gIHJldHVybiB1cGRhdGVyO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsaXN0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICBsaXN0ID0gbGlzdCB8fCBbXTtcbiAgdmFyIGxhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKTtcbiAgcmV0dXJuIGZ1bmN0aW9uIHVwZGF0ZShuZXdMaXN0KSB7XG4gICAgbmV3TGlzdCA9IG5ld0xpc3QgfHwgW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxhc3RJZGVudGlmaWVycy5sZW5ndGg7IGkrKykge1xuICAgICAgdmFyIGlkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbaV07XG4gICAgICB2YXIgaW5kZXggPSBnZXRJbmRleEJ5SWRlbnRpZmllcihpZGVudGlmaWVyKTtcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4XS5yZWZlcmVuY2VzLS07XG4gICAgfVxuXG4gICAgdmFyIG5ld0xhc3RJZGVudGlmaWVycyA9IG1vZHVsZXNUb0RvbShuZXdMaXN0LCBvcHRpb25zKTtcblxuICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICB2YXIgX2lkZW50aWZpZXIgPSBsYXN0SWRlbnRpZmllcnNbX2ldO1xuXG4gICAgICB2YXIgX2luZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoX2lkZW50aWZpZXIpO1xuXG4gICAgICBpZiAoc3R5bGVzSW5ET01bX2luZGV4XS5yZWZlcmVuY2VzID09PSAwKSB7XG4gICAgICAgIHN0eWxlc0luRE9NW19pbmRleF0udXBkYXRlcigpO1xuXG4gICAgICAgIHN0eWxlc0luRE9NLnNwbGljZShfaW5kZXgsIDEpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGxhc3RJZGVudGlmaWVycyA9IG5ld0xhc3RJZGVudGlmaWVycztcbiAgfTtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciBtZW1vID0ge307XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuZnVuY3Rpb24gZ2V0VGFyZ2V0KHRhcmdldCkge1xuICBpZiAodHlwZW9mIG1lbW9bdGFyZ2V0XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHZhciBzdHlsZVRhcmdldCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGFyZ2V0KTsgLy8gU3BlY2lhbCBjYXNlIHRvIHJldHVybiBoZWFkIG9mIGlmcmFtZSBpbnN0ZWFkIG9mIGlmcmFtZSBpdHNlbGZcblxuICAgIGlmICh3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQgJiYgc3R5bGVUYXJnZXQgaW5zdGFuY2VvZiB3aW5kb3cuSFRNTElGcmFtZUVsZW1lbnQpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIC8vIFRoaXMgd2lsbCB0aHJvdyBhbiBleGNlcHRpb24gaWYgYWNjZXNzIHRvIGlmcmFtZSBpcyBibG9ja2VkXG4gICAgICAgIC8vIGR1ZSB0byBjcm9zcy1vcmlnaW4gcmVzdHJpY3Rpb25zXG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gc3R5bGVUYXJnZXQuY29udGVudERvY3VtZW50LmhlYWQ7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIC8vIGlzdGFuYnVsIGlnbm9yZSBuZXh0XG4gICAgICAgIHN0eWxlVGFyZ2V0ID0gbnVsbDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBtZW1vW3RhcmdldF0gPSBzdHlsZVRhcmdldDtcbiAgfVxuXG4gIHJldHVybiBtZW1vW3RhcmdldF07XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBpbnNlcnRCeVNlbGVjdG9yKGluc2VydCwgc3R5bGUpIHtcbiAgdmFyIHRhcmdldCA9IGdldFRhcmdldChpbnNlcnQpO1xuXG4gIGlmICghdGFyZ2V0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiQ291bGRuJ3QgZmluZCBhIHN0eWxlIHRhcmdldC4gVGhpcyBwcm9iYWJseSBtZWFucyB0aGF0IHRoZSB2YWx1ZSBmb3IgdGhlICdpbnNlcnQnIHBhcmFtZXRlciBpcyBpbnZhbGlkLlwiKTtcbiAgfVxuXG4gIHRhcmdldC5hcHBlbmRDaGlsZChzdHlsZSk7XG59XG5cbm1vZHVsZS5leHBvcnRzID0gaW5zZXJ0QnlTZWxlY3RvcjsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBpbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucykge1xuICB2YXIgZWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtcbiAgb3B0aW9ucy5zZXRBdHRyaWJ1dGVzKGVsZW1lbnQsIG9wdGlvbnMuYXR0cmlidXRlcyk7XG4gIG9wdGlvbnMuaW5zZXJ0KGVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG4gIHJldHVybiBlbGVtZW50O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydFN0eWxlRWxlbWVudDsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMoc3R5bGVFbGVtZW50KSB7XG4gIHZhciBub25jZSA9IHR5cGVvZiBfX3dlYnBhY2tfbm9uY2VfXyAhPT0gXCJ1bmRlZmluZWRcIiA/IF9fd2VicGFja19ub25jZV9fIDogbnVsbDtcblxuICBpZiAobm9uY2UpIHtcbiAgICBzdHlsZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwibm9uY2VcIiwgbm9uY2UpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzOyIsIlwidXNlIHN0cmljdFwiO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cbmZ1bmN0aW9uIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKSB7XG4gIHZhciBjc3MgPSBcIlwiO1xuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJAc3VwcG9ydHMgKFwiLmNvbmNhdChvYmouc3VwcG9ydHMsIFwiKSB7XCIpO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIkBtZWRpYSBcIi5jb25jYXQob2JqLm1lZGlhLCBcIiB7XCIpO1xuICB9XG5cbiAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBvYmoubGF5ZXIgIT09IFwidW5kZWZpbmVkXCI7XG5cbiAgaWYgKG5lZWRMYXllcikge1xuICAgIGNzcyArPSBcIkBsYXllclwiLmNvbmNhdChvYmoubGF5ZXIubGVuZ3RoID4gMCA/IFwiIFwiLmNvbmNhdChvYmoubGF5ZXIpIDogXCJcIiwgXCIge1wiKTtcbiAgfVxuXG4gIGNzcyArPSBvYmouY3NzO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICBpZiAob2JqLm1lZGlhKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5zdXBwb3J0cykge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIHZhciBzb3VyY2VNYXAgPSBvYmouc291cmNlTWFwO1xuXG4gIGlmIChzb3VyY2VNYXAgJiYgdHlwZW9mIGJ0b2EgIT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICBjc3MgKz0gXCJcXG4vKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247YmFzZTY0LFwiLmNvbmNhdChidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpLCBcIiAqL1wiKTtcbiAgfSAvLyBGb3Igb2xkIElFXG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICAqL1xuXG5cbiAgb3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCwgb3B0aW9ucy5vcHRpb25zKTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCkge1xuICAvLyBpc3RhbmJ1bCBpZ25vcmUgaWZcbiAgaWYgKHN0eWxlRWxlbWVudC5wYXJlbnROb2RlID09PSBudWxsKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3R5bGVFbGVtZW50LnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc3R5bGVFbGVtZW50KTtcbn1cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuXG5cbmZ1bmN0aW9uIGRvbUFQSShvcHRpb25zKSB7XG4gIHZhciBzdHlsZUVsZW1lbnQgPSBvcHRpb25zLmluc2VydFN0eWxlRWxlbWVudChvcHRpb25zKTtcbiAgcmV0dXJuIHtcbiAgICB1cGRhdGU6IGZ1bmN0aW9uIHVwZGF0ZShvYmopIHtcbiAgICAgIGFwcGx5KHN0eWxlRWxlbWVudCwgb3B0aW9ucywgb2JqKTtcbiAgICB9LFxuICAgIHJlbW92ZTogZnVuY3Rpb24gcmVtb3ZlKCkge1xuICAgICAgcmVtb3ZlU3R5bGVFbGVtZW50KHN0eWxlRWxlbWVudCk7XG4gICAgfVxuICB9O1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGRvbUFQSTsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBzdHlsZVRhZ1RyYW5zZm9ybShjc3MsIHN0eWxlRWxlbWVudCkge1xuICBpZiAoc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQpIHtcbiAgICBzdHlsZUVsZW1lbnQuc3R5bGVTaGVldC5jc3NUZXh0ID0gY3NzO1xuICB9IGVsc2Uge1xuICAgIHdoaWxlIChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCkge1xuICAgICAgc3R5bGVFbGVtZW50LnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICB9XG5cbiAgICBzdHlsZUVsZW1lbnQuYXBwZW5kQ2hpbGQoZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoY3NzKSk7XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzdHlsZVRhZ1RyYW5zZm9ybTsiLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdGlkOiBtb2R1bGVJZCxcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdKG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbl9fd2VicGFja19yZXF1aXJlX18ubiA9IChtb2R1bGUpID0+IHtcblx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG5cdFx0KCkgPT4gKG1vZHVsZVsnZGVmYXVsdCddKSA6XG5cdFx0KCkgPT4gKG1vZHVsZSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsIHsgYTogZ2V0dGVyIH0pO1xuXHRyZXR1cm4gZ2V0dGVyO1xufTsiLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiX193ZWJwYWNrX3JlcXVpcmVfXy5uYyA9IHVuZGVmaW5lZDsiLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYXBwLmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vYXBwLmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImV4cG9ydCBjb25zdCB7IGlzQXJyYXkgfSA9IEFycmF5XG4iLCJpbXBvcnQgeyBpc0FycmF5IH0gZnJvbSAnLi9faW50ZXJuYWxzL2lzQXJyYXkuanMnXG5pbXBvcnQgeyBjdXJyeSB9IGZyb20gJy4vY3VycnkuanMnXG5cbmNsYXNzIFJlZHVjZVN0b3BwZXJ7XG4gIGNvbnN0cnVjdG9yKHZhbHVlKXtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWVcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVkdWNlRm4oXG4gIHJlZHVjZXIsIGFjYywgbGlzdFxuKXtcbiAgaWYgKCFpc0FycmF5KGxpc3QpKXtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdyZWR1Y2U6IGxpc3QgbXVzdCBiZSBhcnJheSBvciBpdGVyYWJsZScpXG4gIH1cbiAgbGV0IGluZGV4ID0gMFxuICBjb25zdCBsZW4gPSBsaXN0Lmxlbmd0aFxuXG4gIHdoaWxlIChpbmRleCA8IGxlbil7XG4gICAgYWNjID0gcmVkdWNlcihcbiAgICAgIGFjYywgbGlzdFsgaW5kZXggXSwgaW5kZXgsIGxpc3RcbiAgICApXG4gICAgaWYgKGFjYyBpbnN0YW5jZW9mIFJlZHVjZVN0b3BwZXIpe1xuICAgICAgcmV0dXJuIGFjYy52YWx1ZVxuICAgIH1cbiAgICBpbmRleCsrXG4gIH1cblxuICByZXR1cm4gYWNjXG59XG5cbmV4cG9ydCBjb25zdCByZWR1Y2UgPSBjdXJyeShyZWR1Y2VGbilcbmV4cG9ydCBjb25zdCByZWR1Y2VTdG9wcGVyID0gdmFsdWUgPT4gbmV3IFJlZHVjZVN0b3BwZXIodmFsdWUpXG4iLCJpbXBvcnQgeyByZWR1Y2VGbiB9IGZyb20gJy4vcmVkdWNlLmpzJ1xuXG5leHBvcnQgZnVuY3Rpb24gX2FyaXR5KG4sIGZuKXtcbiAgc3dpdGNoIChuKXtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBmdW5jdGlvbiAoKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDE6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChhMCl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSAyOlxuICAgIHJldHVybiBmdW5jdGlvbiAoYTAsIGExKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDM6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTJcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgNDpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMiwgYTNcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgNTpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMiwgYTMsIGE0XG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDY6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTVcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgNzpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTZcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgODpcbiAgICByZXR1cm4gZnVuY3Rpb24gKFxuICAgICAgYTAsIGExLCBhMiwgYTMsIGE0LCBhNSwgYTYsIGE3XG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDk6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYThcbiAgICApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgMTA6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhNywgYTgsIGE5XG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBkZWZhdWx0OlxuICAgIHRocm93IG5ldyBFcnJvcignRmlyc3QgYXJndW1lbnQgdG8gX2FyaXR5IG11c3QgYmUgYSBub24tbmVnYXRpdmUgaW50ZWdlciBubyBncmVhdGVyIHRoYW4gdGVuJylcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gX3BpcGUoZiwgZyl7XG4gIHJldHVybiBmdW5jdGlvbiAoKXtcbiAgICByZXR1cm4gZy5jYWxsKHRoaXMsIGYuYXBwbHkodGhpcywgYXJndW1lbnRzKSlcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gcGlwZSgpe1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCl7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwaXBlIHJlcXVpcmVzIGF0IGxlYXN0IG9uZSBhcmd1bWVudCcpXG4gIH1cblxuICByZXR1cm4gX2FyaXR5KGFyZ3VtZW50c1sgMCBdLmxlbmd0aCxcbiAgICByZWR1Y2VGbihcbiAgICAgIF9waXBlLFxuICAgICAgYXJndW1lbnRzWyAwIF0sXG4gICAgICBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChcbiAgICAgICAgYXJndW1lbnRzLCAxLCBJbmZpbml0eVxuICAgICAgKVxuICAgICkpXG59XG4iLCJleHBvcnQgZnVuY3Rpb24gY3VycnkoZm4sIGFyZ3MgPSBbXSl7XG4gIHJldHVybiAoLi4uX2FyZ3MpID0+XG4gICAgKHJlc3QgPT4gcmVzdC5sZW5ndGggPj0gZm4ubGVuZ3RoID8gZm4oLi4ucmVzdCkgOiBjdXJyeShmbiwgcmVzdCkpKFtcbiAgICAgIC4uLmFyZ3MsXG4gICAgICAuLi5fYXJncyxcbiAgICBdKVxufVxuIiwiaW1wb3J0IHsgR2FtZWJvYXJkRmFjdG9yeSB9IGZyb20gXCIuLi9nYW1lYm9hcmQvZ2FtZWJvYXJkXCI7XHJcbmltcG9ydCB7IHBpcGUgfSBmcm9tIFwicmFtYmRhXCI7XHJcblxyXG5leHBvcnQgY29uc3QgUGxheWVyID0gKCkgPT4ge1xyXG4gICAgbGV0IGdhbWVCb2FyZCA9IEdhbWVib2FyZEZhY3RvcnkoKTtcclxuICAgIGxldCBpc0N1cnJlbnRQbGF5ZXIgPSBmYWxzZTtcclxuICAgIGNvbnN0IGdldElzQ3VycmVudFBsYXllciA9ICgpID0+IGlzQ3VycmVudFBsYXllcjtcclxuICAgIGNvbnN0IHNldElzQ3VycmVudFBsYXllciA9IChzdGF0dXMpID0+IGlzQ3VycmVudFBsYXllciA9IHN0YXR1cztcclxuICAgIGNvbnN0IHRvZ2dsZUlzQ3VycmVudFBsYXllciA9ICgpID0+IHNldElzQ3VycmVudFBsYXllcighaXNDdXJyZW50UGxheWVyKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2FtZUJvYXJkLFxyXG4gICAgICAgIGdldElzQ3VycmVudFBsYXllcixcclxuICAgICAgICBzZXRJc0N1cnJlbnRQbGF5ZXIsXHJcbiAgICAgICAgdG9nZ2xlSXNDdXJyZW50UGxheWVyLFxyXG4gICAgfTtcclxufVxyXG5cclxuY29uc3QgaXNBSVBsYXllciA9IChwbGF5ZXIgPSB7fSkgPT4ge1xyXG4gICAgY29uc3QgZ2V0TmV4dEF0dGFjayA9ICgpID0+IHtcclxuICAgICAgICBsZXQgeCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChNYXRoLnBvdygxMCwgMikpKVxyXG4gICAgICAgIGxldCB5ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKE1hdGgucG93KDEwLCAyKSkpXHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgeCxcclxuICAgICAgICAgICAgeSxcclxuICAgICAgICAgICAgaXNBSTogdHJ1ZSxcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICAuLi5wbGF5ZXIsXHJcbiAgICAgICAgZ2V0TmV4dEF0dGFja1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgQUlQbGF5ZXIgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBwbGF5ZXIgPSBQbGF5ZXIoKTtcclxuICAgIHJldHVybiBwaXBlKFxyXG4gICAgaXNBSVBsYXllclxyXG4gICAgKShwbGF5ZXIpXHJcbn1cclxuIiwiaW1wb3J0IHsgU2hpcEZhY3RvcnkgfSBmcm9tIFwiLi4vc2hpcC9zaGlwXCI7XHJcblxyXG5leHBvcnQgY29uc3QgR2FtZWJvYXJkRmFjdG9yeSA9IChib2FyZExlbmd0aCA9IDEwKSA9PiB7XHJcbiAgICBjb25zdCBsZW5ndGggPSBib2FyZExlbmd0aDtcclxuICAgIGNvbnN0IG1pc3NlZFNob3RzID0gW107XHJcbiAgICBjb25zdCBoaXRzID0gW107XHJcbiAgICBjb25zdCBnZXRNaXNzZWRTaG90cyA9ICgpICA9PiBtaXNzZWRTaG90cztcclxuICAgIGNvbnN0IGdldEhpdHMgPSAoKSA9PiBoaXRzO1xyXG5cclxuICAgIGNvbnN0IGNyZWF0ZUJvYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIGxldCB0b3RhbExlbmd0aCA9IGxlbmd0aCAqIGxlbmd0aDtcclxuICAgICAgICByZXR1cm4gbmV3IEFycmF5KHRvdGFsTGVuZ3RoKTtcclxuICAgIH1cclxuICAgIGxldCBib2FyZCA9IGNyZWF0ZUJvYXJkKClcclxuICAgIGNvbnN0IGdldEJvYXJkID0gKCkgPT4gYm9hcmQ7XHJcbiAgICBjb25zdCBfc2V0Qm9hcmQgPSAobmV3Qm9hcmQpID0+IGJvYXJkID0gbmV3Qm9hcmQ7XHJcblxyXG4gICAgY29uc3QgX2dldEluZGV4RnJvbUNvb3JkID0gKHgseSkgPT4ge1xyXG4gICAgICAgIHJldHVybiAobGVuZ3RoICogeSkgKyB4XHJcbiAgICB9XHJcbiAgICBjb25zdCBnZXRQb3MgPSAoeCwgeSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gX2dldEluZGV4RnJvbUNvb3JkKHgsIHkpO1xyXG4gICAgICAgIHJldHVybiBpbmRleDtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBfc2V0UG9zID0gKHgsIHksIGRhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IGdldFBvcyh4LCB5KTtcclxuICAgICAgICBpbmRleCA9IGRhdGE7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgX2hpdEV4aXN0cyA9IChwb3MpID0+IHtcclxuICAgICAgICBjb25zdCBwb3NTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwb3MpO1xyXG4gICAgICAgIGxldCBjb250YWluc0hpdHMgPSBoaXRzLnNvbWUoKGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpID09PSBwb3NTdHJpbmc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gY29udGFpbnNIaXRzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IF9taXNzRXhpc3RzID0gKHBvcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBvc1N0cmluZyA9IEpTT04uc3RyaW5naWZ5KHBvcyk7XHJcbiAgICAgICAgbGV0IGNvbnRhaW5zTWlzcyA9IG1pc3NlZFNob3RzLnNvbWUoKGUpID0+IHtcclxuICAgICAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGUpID09PSBwb3NTdHJpbmc7XHJcbiAgICAgICAgfSlcclxuICAgICAgICByZXR1cm4gY29udGFpbnNNaXNzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHJlY2VpdmVBdHRhY2sgPSAoeCwgeSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHBvcyA9IFt4LCB5XTtcclxuICAgICAgICBpZiAoX2hpdEV4aXN0cyhwb3MpIHx8IF9taXNzRXhpc3RzKHBvcykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3Qgc2hpcCA9IGJvYXJkW2dldFBvcyh4LHkpXTtcclxuICAgICAgICBpZiAoc2hpcCAmJiBzaGlwLmhpdCkge1xyXG4gICAgICAgICAgICBoaXRzLnB1c2gocG9zKTtcclxuICAgICAgICAgICAgc2hpcC5oaXQoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBtaXNzZWRTaG90cy5wdXNoKHBvcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHBsYWNlU2hpcCA9IChzaXplLCBwb3MpID0+IHtcclxuICAgICAgICBjb25zdCB4ID0gcG9zLng7XHJcbiAgICAgICAgY29uc3QgeSA9IHBvcy55O1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0SW5kZXggPSBnZXRQb3MoeCwgeSk7XHJcbiAgICAgICAgaWYgKCFfaXNTaGlwUG9zaXRpb25WYWxpZChzaXplLCBwb3MpKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUG9zaXRpb24gYWxyZWFkeSBoYXMgc2hpcCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgc2hpcCA9IFNoaXBGYWN0b3J5KHNpemUpO1xyXG4gICAgICAgIGxldCBuZXdCb2FyZCA9IGdldEJvYXJkKCk7XHJcbiAgICAgICAgZm9yKGxldCBpID0gMDsgaSA8IHNoaXAuZ2V0TGVuZ3RoKCk7IGkrKykge1xyXG4gICAgICAgICAgICBuZXdCb2FyZFtzdGFydEluZGV4ICsgaV0gPSBzaGlwO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgX3NldEJvYXJkKG5ld0JvYXJkKTtcclxuICAgICAgICByZXR1cm4gYm9hcmQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgX2lzU2hpcFBvc2l0aW9uVmFsaWQgPSAoc2l6ZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzaXplOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IHggPSBwb3MueCArIGk7XHJcbiAgICAgICAgICAgIGxldCB5ID0gcG9zLnkgKyBpO1xyXG4gICAgICAgICAgICBpZiAoeCA+IGxlbmd0aCAtIDEgfHwgeSA+IGxlbmd0aCAtIDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBsZXQgYm9hcmRJbmRleCA9IGdldFBvcyhwb3MueCArIGksIHBvcy55KTtcclxuICAgICAgICAgICAgaWYgKGdldEJvYXJkKClbYm9hcmRJbmRleF0pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc0FsbFN1bmsgPSAoKSA9PiB7XHJcbiAgICAgICAgZm9yIChjb25zdCBwb3Mgb2YgYm9hcmQpIHtcclxuICAgICAgICAgICAgaWYocG9zICYmIHBvcy5pc1N1bmspIHtcclxuICAgICAgICAgICAgICAgIGlmICghcG9zLmlzU3VuaygpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGdlbmVyYXRlQm9hcmQgPSAoKSA9PiB7XHJcbiAgICAgICAgY29uc3Qgc2hpcHNUb0NyZWF0ZSA9IFsyLCAyLCAyLCAzLCAzLCA0XTtcclxuICAgICAgICBjb25zdCBzaGlwc0NyZWF0ZWQgPSBbXTtcclxuICAgICAgICB3aGlsZSAoc2hpcHNUb0NyZWF0ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IG5ld1NoaXBTaXplID0gc2hpcHNUb0NyZWF0ZS5zaGlmdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTaGlwUG9zID0gX2dldFZhbGlkUmFuZG9tU2hpcFBvc2l0aW9uKG5ld1NoaXBTaXplKTtcclxuICAgICAgICAgICAgcGxhY2VTaGlwKG5ld1NoaXBTaXplLCBuZXdTaGlwUG9zKTtcclxuICAgICAgICAgICAgc2hpcHNDcmVhdGVkLnB1c2goe3g6IG5ld1NoaXBQb3MueCwgeTogbmV3U2hpcFBvcy55fSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzaGlwc0NyZWF0ZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgX2dldFZhbGlkUmFuZG9tU2hpcFBvc2l0aW9uID0gKHNpemUpID0+IHtcclxuICAgICAgICBsZXQgeCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiBsZW5ndGgpKTtcclxuICAgICAgICBsZXQgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlbmd0aCk7XHJcbiAgICAgICAgd2hpbGUoIV9pc1NoaXBQb3NpdGlvblZhbGlkKHNpemUsIHt4LCB5fSkpIHtcclxuICAgICAgICAgICAgeCA9IE1hdGguZmxvb3IoKE1hdGgucmFuZG9tKCkgKiBsZW5ndGgpKTtcclxuICAgICAgICAgICAgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGxlbmd0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7eCwgeX07XHJcbiAgICB9XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldEJvYXJkLFxyXG4gICAgICAgIGdldFBvcyxcclxuICAgICAgICBwbGFjZVNoaXAsXHJcbiAgICAgICAgcmVjZWl2ZUF0dGFjayxcclxuICAgICAgICBnZXRNaXNzZWRTaG90cyxcclxuICAgICAgICBpc0FsbFN1bmssXHJcbiAgICAgICAgZ2V0SGl0cyxcclxuICAgICAgICBnZW5lcmF0ZUJvYXJkXHJcbiAgICB9XHJcbn0iLCJleHBvcnQgY29uc3QgU2hpcEZhY3RvcnkgPSAoc2hpcExlbmd0aCA9IDIpID0+IHtcclxuICAgIGxldCB0aW1lc0hpdCA9IDA7XHJcbiAgICBjb25zdCBnZXRUaW1lc0hpdCA9ICgpID0+IHRpbWVzSGl0O1xyXG5cclxuICAgIGxldCBsZW5ndGggPSBzaGlwTGVuZ3RoO1xyXG4gICAgY29uc3QgZ2V0TGVuZ3RoID0gKCkgPT4gbGVuZ3RoO1xyXG5cclxuICAgIGNvbnN0IGhpdCA9ICgpID0+IHtcclxuICAgICAgICBpZiAoaXNTdW5rKCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aW1lc0hpdCsrO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGlzU3VuayA9ICgpID0+IHtcclxuICAgICAgICByZXR1cm4gdGltZXNIaXQgPj0gbGVuZ3RoO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgZ2V0VGltZXNIaXQsXHJcbiAgICAgICAgZ2V0TGVuZ3RoLFxyXG4gICAgICAgIGhpdCxcclxuICAgICAgICBpc1N1bmssXHJcbiAgICB9XHJcbn0iLCJcbiAgICAgIGltcG9ydCBBUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanNcIjtcbiAgICAgIGltcG9ydCBkb21BUEkgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zdHlsZURvbUFQSS5qc1wiO1xuICAgICAgaW1wb3J0IGluc2VydEZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qc1wiO1xuICAgICAgaW1wb3J0IHNldEF0dHJpYnV0ZXMgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9zZXRBdHRyaWJ1dGVzV2l0aG91dEF0dHJpYnV0ZXMuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRTdHlsZUVsZW1lbnQgZnJvbSBcIiEuLi8uLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanNcIjtcbiAgICAgIGltcG9ydCBzdHlsZVRhZ1RyYW5zZm9ybUZuIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVUYWdUcmFuc2Zvcm0uanNcIjtcbiAgICAgIGltcG9ydCBjb250ZW50LCAqIGFzIG5hbWVkRXhwb3J0IGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vR2FtZWJvYXJkQ29tcG9uZW50LmNzc1wiO1xuICAgICAgXG4gICAgICBcblxudmFyIG9wdGlvbnMgPSB7fTtcblxub3B0aW9ucy5zdHlsZVRhZ1RyYW5zZm9ybSA9IHN0eWxlVGFnVHJhbnNmb3JtRm47XG5vcHRpb25zLnNldEF0dHJpYnV0ZXMgPSBzZXRBdHRyaWJ1dGVzO1xuXG4gICAgICBvcHRpb25zLmluc2VydCA9IGluc2VydEZuLmJpbmQobnVsbCwgXCJoZWFkXCIpO1xuICAgIFxub3B0aW9ucy5kb21BUEkgPSBkb21BUEk7XG5vcHRpb25zLmluc2VydFN0eWxlRWxlbWVudCA9IGluc2VydFN0eWxlRWxlbWVudDtcblxudmFyIHVwZGF0ZSA9IEFQSShjb250ZW50LCBvcHRpb25zKTtcblxuXG5cbmV4cG9ydCAqIGZyb20gXCIhIS4uLy4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvY2pzLmpzIS4vR2FtZWJvYXJkQ29tcG9uZW50LmNzc1wiO1xuICAgICAgIGV4cG9ydCBkZWZhdWx0IGNvbnRlbnQgJiYgY29udGVudC5sb2NhbHMgPyBjb250ZW50LmxvY2FscyA6IHVuZGVmaW5lZDtcbiIsImltcG9ydCAnLi9HYW1lYm9hcmRDb21wb25lbnQuY3NzJztcclxuXHJcbmV4cG9ydCBjbGFzcyBHYW1lYm9hcmRDb21wb25lbnQge1xyXG4gICAgY29uc3RydWN0b3IocGxheWVyKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIgPSBwbGF5ZXI7XHJcbiAgICAgICAgdGhpcy5nYW1lYm9hcmQgPSBwbGF5ZXIuZ2FtZUJvYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbmRlcigpIHtcclxuICAgICAgICBjb25zdCBnYW1lYm9hcmREaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICBnYW1lYm9hcmREaXYuY2xhc3NMaXN0LmFkZCgnZ2FtZWJvYXJkLWNvbnRhaW5lcicpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IGJvYXJkSXRlbXMgPSB0aGlzLmdhbWVib2FyZC5nZXRCb2FyZCgpO1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5nYW1lYm9hcmQuZ2V0Qm9hcmQoKS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBnYW1lYm9hcmRJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICAgICAgICAgIGdhbWVib2FyZEl0ZW0uY2xhc3NMaXN0LmFkZCgnZ2FtZWJvYXJkLWl0ZW0nKTtcclxuICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS50ZXh0Q29udGVudCA9IGk7XHJcbiAgICAgICAgICAgIGdhbWVib2FyZEl0ZW0ucG9zaXRpb24gPSBpO1xyXG5cclxuICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwb3NpdGlvbiA9IGUuY3VycmVudFRhcmdldC5wb3NpdGlvbjtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGlja2VkICcgKyBwb3NpdGlvbik7XHJcbiAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICBpZiAoYm9hcmRJdGVtc1tpXSkge1xyXG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS5jbGFzc0xpc3QuYWRkKCdzaGlwJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoYm9hcmRJdGVtc1tpXS5pc1N1bmsoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZEl0ZW0uY2xhc3NMaXN0LmFkZCgnc3VuaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBnYW1lYm9hcmREaXYuYXBwZW5kQ2hpbGQoZ2FtZWJvYXJkSXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBnYW1lYm9hcmREaXY7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXIsIEFJUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyL3BsYXllclwiO1xyXG5pbXBvcnQgeyBHYW1lYm9hcmRDb21wb25lbnQgfSBmcm9tIFwiLi9nYW1lYm9hcmQvR2FtZWJvYXJkQ29tcG9uZW50XCI7XHJcblxyXG5cclxuZXhwb3J0IGNvbnN0IEdhbWUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBwbGF5ZXIxID0gUGxheWVyKCk7XHJcbiAgICBwbGF5ZXIxLmdhbWVCb2FyZC5nZW5lcmF0ZUJvYXJkKCk7XHJcbiAgICBcclxuICAgIGNvbnN0IHBsYXllcjIgPSBBSVBsYXllcigpO1xyXG4gICAgcGxheWVyMi5nYW1lQm9hcmQuZ2VuZXJhdGVCb2FyZCgpO1xyXG5cclxuICAgIGNvbnN0IHAxZ2FtZUJvYXJkID0gbmV3IEdhbWVib2FyZENvbXBvbmVudChwbGF5ZXIxKTtcclxuICAgIGNvbnN0IHAyZ2FtZUJvYXJkID0gbmV3IEdhbWVib2FyZENvbXBvbmVudChwbGF5ZXIyKTtcclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHBsYXllcjEsXHJcbiAgICAgICAgcGxheWVyMixcclxuICAgICAgICBwMWdhbWVCb2FyZCxcclxuICAgICAgICBwMmdhbWVCb2FyZFxyXG4gICAgfVxyXG59IiwiaW1wb3J0ICcuL2FwcC5jc3MnO1xyXG5cclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL0dhbWVcIjtcclxuXHJcbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnYmF0dGxlc2hpcCBhcHAgbG9hZGVkJyk7XHJcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXInKTtcclxuICAgIFxyXG4gICAgY29uc3QgZ2FtZU9iaiA9IEdhbWUoKTtcclxuICAgIGNvbnNvbGUubG9nKGdhbWVPYmopO1xyXG4gICAgd3JhcHBlci5hcHBlbmRDaGlsZChnYW1lT2JqLnAxZ2FtZUJvYXJkLnJlbmRlcigpKTtcclxuICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQoZ2FtZU9iai5wMmdhbWVCb2FyZC5yZW5kZXIoKSk7XHJcbn0pKCk7Il0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJuYyIsImlzQXJyYXkiLCJBcnJheSIsIlJlZHVjZVN0b3BwZXIiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwicmVkdWNlRm4iLCJyZWR1Y2VyIiwiYWNjIiwiVHlwZUVycm9yIiwibGVuIiwiX3BpcGUiLCJmIiwiZyIsImFyZ3VtZW50cyIsImN1cnJ5IiwiZm4iLCJhcmdzIiwiX2FyZ3MiLCJyZXN0IiwiUGxheWVyIiwiZ2FtZUJvYXJkIiwiYm9hcmRMZW5ndGgiLCJtaXNzZWRTaG90cyIsImhpdHMiLCJib2FyZCIsImdldEJvYXJkIiwiZ2V0UG9zIiwieCIsInkiLCJfZ2V0SW5kZXhGcm9tQ29vcmQiLCJwbGFjZVNoaXAiLCJzaXplIiwicG9zIiwic3RhcnRJbmRleCIsIl9pc1NoaXBQb3NpdGlvblZhbGlkIiwic2hpcCIsInNoaXBMZW5ndGgiLCJ0aW1lc0hpdCIsImlzU3VuayIsImdldFRpbWVzSGl0IiwiZ2V0TGVuZ3RoIiwiaGl0IiwiU2hpcEZhY3RvcnkiLCJuZXdCb2FyZCIsIl9zZXRCb2FyZCIsImJvYXJkSW5kZXgiLCJfZ2V0VmFsaWRSYW5kb21TaGlwUG9zaXRpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyZWNlaXZlQXR0YWNrIiwicG9zU3RyaW5nIiwic29tZSIsIl9oaXRFeGlzdHMiLCJfbWlzc0V4aXN0cyIsImdldE1pc3NlZFNob3RzIiwiaXNBbGxTdW5rIiwiZ2V0SGl0cyIsImdlbmVyYXRlQm9hcmQiLCJzaGlwc1RvQ3JlYXRlIiwic2hpcHNDcmVhdGVkIiwibmV3U2hpcFNpemUiLCJzaGlmdCIsIm5ld1NoaXBQb3MiLCJHYW1lYm9hcmRGYWN0b3J5IiwiaXNDdXJyZW50UGxheWVyIiwic2V0SXNDdXJyZW50UGxheWVyIiwic3RhdHVzIiwiZ2V0SXNDdXJyZW50UGxheWVyIiwidG9nZ2xlSXNDdXJyZW50UGxheWVyIiwiaXNBSVBsYXllciIsInBsYXllciIsImdldE5leHRBdHRhY2siLCJwb3ciLCJpc0FJIiwiZ2FtZWJvYXJkIiwicmVuZGVyIiwiZ2FtZWJvYXJkRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwiYm9hcmRJdGVtcyIsImdhbWVib2FyZEl0ZW0iLCJ0ZXh0Q29udGVudCIsInBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRUYXJnZXQiLCJjb25zb2xlIiwibG9nIiwiR2FtZSIsInBsYXllcjEiLCJwbGF5ZXIyIiwiYTAiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYTYiLCJhNyIsImE4IiwiYTkiLCJfYXJpdHkiLCJzbGljZSIsIkluZmluaXR5IiwicGlwZSIsIkFJUGxheWVyIiwicDFnYW1lQm9hcmQiLCJwMmdhbWVCb2FyZCIsIndyYXBwZXIiLCJnYW1lT2JqIl0sInNvdXJjZVJvb3QiOiIifQ==