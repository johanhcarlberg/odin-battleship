(()=>{"use strict";var r={780:(r,e,t)=>{t.d(e,{Z:()=>i});var n=t(537),a=t.n(n),o=t(645),s=t.n(o)()(a());s.push([r.id,".wrapper {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-items: center;\r\n}","",{version:3,sources:["webpack://./src/app.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,8BAA8B;IAC9B,qBAAqB;AACzB",sourcesContent:[".wrapper {\r\n    display: grid;\r\n    grid-template-columns: 1fr 1fr;\r\n    justify-items: center;\r\n}"],sourceRoot:""}]);const i=s},582:(r,e,t)=>{t.d(e,{Z:()=>i});var n=t(537),a=t.n(n),o=t(645),s=t.n(o)()(a());s.push([r.id,".gameboard-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 50px);\r\n    grid-template-rows: repeat(10, 50px);\r\n}\r\n\r\n.gameboard-item {\r\n    display: grid;\r\n    align-items: center;\r\n    justify-items: center;\r\n    border: 1px solid #777;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ship {\r\n    background-color: #333;\r\n    color: #fff;\r\n}","",{version:3,sources:["webpack://./src/gameboard/GameboardComponent.css"],names:[],mappings:"AAAA;IACI,aAAa;IACb,uCAAuC;IACvC,oCAAoC;AACxC;;AAEA;IACI,aAAa;IACb,mBAAmB;IACnB,qBAAqB;IACrB,sBAAsB;IACtB,sBAAsB;AAC1B;;AAEA;IACI,sBAAsB;IACtB,WAAW;AACf",sourcesContent:[".gameboard-container {\r\n    display: grid;\r\n    grid-template-columns: repeat(10, 50px);\r\n    grid-template-rows: repeat(10, 50px);\r\n}\r\n\r\n.gameboard-item {\r\n    display: grid;\r\n    align-items: center;\r\n    justify-items: center;\r\n    border: 1px solid #777;\r\n    box-sizing: border-box;\r\n}\r\n\r\n.ship {\r\n    background-color: #333;\r\n    color: #fff;\r\n}"],sourceRoot:""}]);const i=s},645:r=>{r.exports=function(r){var e=[];return e.toString=function(){return this.map((function(e){var t="",n=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),n&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=r(e),n&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(r,t,n,a,o){"string"==typeof r&&(r=[[null,r,void 0]]);var s={};if(n)for(var i=0;i<this.length;i++){var c=this[i][0];null!=c&&(s[c]=!0)}for(var u=0;u<r.length;u++){var l=[].concat(r[u]);n&&s[l[0]]||(void 0!==o&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=o),t&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=t):l[2]=t),a&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=a):l[4]="".concat(a)),e.push(l))}},e}},537:r=>{r.exports=function(r){var e=r[1],t=r[3];if(!t)return e;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},379:r=>{var e=[];function t(r){for(var t=-1,n=0;n<e.length;n++)if(e[n].identifier===r){t=n;break}return t}function n(r,n){for(var o={},s=[],i=0;i<r.length;i++){var c=r[i],u=n.base?c[0]+n.base:c[0],l=o[u]||0,p="".concat(u," ").concat(l);o[u]=l+1;var d=t(p),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)e[d].references++,e[d].updater(f);else{var h=a(f,n);n.byIndex=i,e.splice(i,0,{identifier:p,updater:h,references:1})}s.push(p)}return s}function a(r,e){var t=e.domAPI(e);return t.update(r),function(e){if(e){if(e.css===r.css&&e.media===r.media&&e.sourceMap===r.sourceMap&&e.supports===r.supports&&e.layer===r.layer)return;t.update(r=e)}else t.remove()}}r.exports=function(r,a){var o=n(r=r||[],a=a||{});return function(r){r=r||[];for(var s=0;s<o.length;s++){var i=t(o[s]);e[i].references--}for(var c=n(r,a),u=0;u<o.length;u++){var l=t(o[u]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}o=c}}},569:r=>{var e={};r.exports=function(r,t){var n=function(r){if(void 0===e[r]){var t=document.querySelector(r);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(r){t=null}e[r]=t}return e[r]}(r);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(t)}},216:r=>{r.exports=function(r){var e=document.createElement("style");return r.setAttributes(e,r.attributes),r.insert(e,r.options),e}},565:(r,e,t)=>{r.exports=function(r){var e=t.nc;e&&r.setAttribute("nonce",e)}},795:r=>{r.exports=function(r){var e=r.insertStyleElement(r);return{update:function(t){!function(r,e,t){var n="";t.supports&&(n+="@supports (".concat(t.supports,") {")),t.media&&(n+="@media ".concat(t.media," {"));var a=void 0!==t.layer;a&&(n+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),n+=t.css,a&&(n+="}"),t.media&&(n+="}"),t.supports&&(n+="}");var o=t.sourceMap;o&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(n,r,e.options)}(e,r,t)},remove:function(){!function(r){if(null===r.parentNode)return!1;r.parentNode.removeChild(r)}(e)}}}},589:r=>{r.exports=function(r,e){if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}}},e={};function t(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={id:n,exports:{}};return r[n](o,o.exports,t),o.exports}t.n=r=>{var e=r&&r.__esModule?()=>r.default:()=>r;return t.d(e,{a:e}),e},t.d=(r,e)=>{for(var n in e)t.o(e,n)&&!t.o(r,n)&&Object.defineProperty(r,n,{enumerable:!0,get:e[n]})},t.o=(r,e)=>Object.prototype.hasOwnProperty.call(r,e),t.nc=void 0,(()=>{var r=t(379),e=t.n(r),n=t(795),a=t.n(n),o=t(569),s=t.n(o),i=t(565),c=t.n(i),u=t(216),l=t.n(u),p=t(589),d=t.n(p),f=t(780),h={};h.styleTagTransform=d(),h.setAttributes=c(),h.insert=s().bind(null,"head"),h.domAPI=a(),h.insertStyleElement=l(),e()(f.Z,h),f.Z&&f.Z.locals&&f.Z.locals;const{isArray:m}=Array;class g{constructor(r){this.value=r}}function y(r,e,t){if(!m(t))throw new TypeError("reduce: list must be array or iterable");let n=0;const a=t.length;for(;n<a;){if((e=r(e,t[n],n,t))instanceof g)return e.value;n++}return e}function A(r,e){return function(){return e.call(this,r.apply(this,arguments))}}!function r(e,t=[]){return(...n)=>{return(a=[...t,...n]).length>=e.length?e(...a):r(e,a);var a}}(y);const v=()=>{let r=((r=10)=>{const e=r,t=[],n=[];let a=new Array(e*e);const o=()=>a,s=(r,t)=>{const n=((r,t)=>e*t+r)(r,t);return n},i=(r,e)=>{const t=e.x,n=e.y,i=s(t,n);if(!c(r,e))throw new Error("Position already has ship");let u=((r=2)=>{let e=0,t=r;const n=()=>e>=t;return{getTimesHit:()=>e,getLength:()=>t,hit:()=>{n()||e++},isSunk:n}})(r),l=o();for(let r=0;r<u.getLength();r++)l[i+r]=u;return(r=>{a=r})(l),a},c=(r,t)=>{for(let n=0;n<r;n++){let r=t.x+n,a=t.y+n;if(r>e-1||a>e-1)return!1;let i=s(t.x+n,t.y);if(o()[i])return!1}return!0},u=r=>{let t=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);for(;!c(r,{x:t,y:n});)t=Math.floor(Math.random()*e),n=Math.floor(Math.random()*e);return{x:t,y:n}};return{getBoard:o,getPos:s,placeShip:i,receiveAttack:(r,e)=>{const o=[r,e];if((r=>{const e=JSON.stringify(r);return n.some((r=>JSON.stringify(r)===e))})(o)||(r=>{const e=JSON.stringify(r);return t.some((r=>JSON.stringify(r)===e))})(o))return;const i=a[s(r,e)];i&&i.hit?(n.push(o),i.hit()):t.push(o)},getMissedShots:()=>t,isAllSunk:()=>{for(const r of a)if(r&&r.isSunk&&!r.isSunk())return!1;return!0},getHits:()=>n,generateBoard:()=>{const r=[2,2,2,3,3,4],e=[];for(;r.length>0;){const t=r.shift(),n=u(t);i(t,n),e.push({x:n.x,y:n.y})}return e}}})(),e=!1;const t=r=>e=r;return{gameBoard:r,getIsCurrentPlayer:()=>e,setIsCurrentPlayer:t,toggleIsCurrentPlayer:()=>t(!e)}},b=(r={})=>({...r,getNextAttack:()=>({x:Math.floor(Math.random()*Math.pow(10,2)),y:Math.floor(Math.random()*Math.pow(10,2)),isAI:!0})});var C=t(582),x={};x.styleTagTransform=d(),x.setAttributes=c(),x.insert=s().bind(null,"head"),x.domAPI=a(),x.insertStyleElement=l(),e()(C.Z,x),C.Z&&C.Z.locals&&C.Z.locals;class B{constructor(r,e=!1){this.player=r,this.gameboard=r.gameBoard,this.hideShips=e}render(){const r=document.createElement("div");r.classList.add("gameboard-container");const e=this.gameboard.getBoard();for(let t=0;t<this.gameboard.getBoard().length;t++){const n=document.createElement("div");n.classList.add("gameboard-item"),n.textContent=t,n.position=t,n.addEventListener("click",(r=>{const e=r.currentTarget.position;console.log("clicked "+e)})),e[t]&&!this.hideShips&&(n.classList.add("ship"),e[t].isSunk()&&n.classList.add("sunk")),r.appendChild(n)}return r}}class w{constructor(){this.player1=v(),this.player1.gameBoard.generateBoard(),this.player2=(()=>{const r=v();return function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return function(r,e){switch(r){case 0:return function(){return e.apply(this,arguments)};case 1:return function(r){return e.apply(this,arguments)};case 2:return function(r,t){return e.apply(this,arguments)};case 3:return function(r,t,n){return e.apply(this,arguments)};case 4:return function(r,t,n,a){return e.apply(this,arguments)};case 5:return function(r,t,n,a,o){return e.apply(this,arguments)};case 6:return function(r,t,n,a,o,s){return e.apply(this,arguments)};case 7:return function(r,t,n,a,o,s,i){return e.apply(this,arguments)};case 8:return function(r,t,n,a,o,s,i,c){return e.apply(this,arguments)};case 9:return function(r,t,n,a,o,s,i,c,u){return e.apply(this,arguments)};case 10:return function(r,t,n,a,o,s,i,c,u,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}(arguments[0].length,y(A,arguments[0],Array.prototype.slice.call(arguments,1,1/0)))}(b)(r)})(),this.player2.gameBoard.generateBoard(),this.player1gameBoard=new B(this.player1,!1),this.player2gameBoard=new B(this.player2,!0)}}(()=>{console.log("battleship app loaded");const r=document.querySelector(".wrapper"),e=new w;r.appendChild(e.player1gameBoard.render()),r.appendChild(e.player2gameBoard.render())})()})()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYXBwLmpzIiwibWFwcGluZ3MiOiJ3RkFHSUEsRSxNQUEwQixHQUE0QixLQUUxREEsRUFBd0JDLEtBQUssQ0FBQ0MsRUFBT0MsR0FBSSw2R0FBOEcsR0FBRyxDQUFDLFFBQVUsRUFBRSxRQUFVLENBQUMsMkJBQTJCLE1BQVEsR0FBRyxTQUFXLGdEQUFnRCxlQUFpQixDQUFDLDhHQUE4RyxXQUFhLE1BRWhhLFMsZ0VDSklILEUsTUFBMEIsR0FBNEIsS0FFMURBLEVBQXdCQyxLQUFLLENBQUNDLEVBQU9DLEdBQUksb1lBQXFZLEdBQUcsQ0FBQyxRQUFVLEVBQUUsUUFBVSxDQUFDLG9EQUFvRCxNQUFRLEdBQUcsU0FBVywySkFBMkosZUFBaUIsQ0FBQyxxWUFBcVksV0FBYSxNQUVsbEMsUyxVQ0RBRCxFQUFPRSxRQUFVLFNBQVVDLEdBQ3pCLElBQUlDLEVBQU8sR0E0RVgsT0F6RUFBLEVBQUtDLFNBQVcsV0FDZCxPQUFPQyxLQUFLQyxLQUFJLFNBQVVDLEdBQ3hCLElBQUlDLEVBQVUsR0FDVkMsT0FBK0IsSUFBWkYsRUFBSyxHQW9CNUIsT0FuQklBLEVBQUssS0FDUEMsR0FBVyxjQUFjRSxPQUFPSCxFQUFLLEdBQUksUUFFdkNBLEVBQUssS0FDUEMsR0FBVyxVQUFVRSxPQUFPSCxFQUFLLEdBQUksT0FFbkNFLElBQ0ZELEdBQVcsU0FBU0UsT0FBT0gsRUFBSyxHQUFHSSxPQUFTLEVBQUksSUFBSUQsT0FBT0gsRUFBSyxJQUFNLEdBQUksT0FFNUVDLEdBQVdOLEVBQXVCSyxHQUM5QkUsSUFDRkQsR0FBVyxLQUVURCxFQUFLLEtBQ1BDLEdBQVcsS0FFVEQsRUFBSyxLQUNQQyxHQUFXLEtBRU5BLENBQ1QsSUFBR0ksS0FBSyxHQUNWLEVBR0FULEVBQUtVLEVBQUksU0FBV0MsRUFBU0MsRUFBT0MsRUFBUUMsRUFBVUMsR0FDN0IsaUJBQVpKLElBQ1RBLEVBQVUsQ0FBQyxDQUFDLEtBQU1BLE9BQVNLLEtBRTdCLElBQUlDLEVBQXlCLENBQUMsRUFDOUIsR0FBSUosRUFDRixJQUFLLElBQUlLLEVBQUksRUFBR0EsRUFBSWhCLEtBQUtNLE9BQVFVLElBQUssQ0FDcEMsSUFBSXJCLEVBQUtLLEtBQUtnQixHQUFHLEdBQ1AsTUFBTnJCLElBQ0ZvQixFQUF1QnBCLElBQU0sRUFFakMsQ0FFRixJQUFLLElBQUlzQixFQUFLLEVBQUdBLEVBQUtSLEVBQVFILE9BQVFXLElBQU0sQ0FDMUMsSUFBSWYsRUFBTyxHQUFHRyxPQUFPSSxFQUFRUSxJQUN6Qk4sR0FBVUksRUFBdUJiLEVBQUssV0FHckIsSUFBVlcsU0FDYyxJQUFaWCxFQUFLLEtBR2RBLEVBQUssR0FBSyxTQUFTRyxPQUFPSCxFQUFLLEdBQUdJLE9BQVMsRUFBSSxJQUFJRCxPQUFPSCxFQUFLLElBQU0sR0FBSSxNQUFNRyxPQUFPSCxFQUFLLEdBQUksTUFGL0ZBLEVBQUssR0FBS1csR0FNVkgsSUFDR1IsRUFBSyxJQUdSQSxFQUFLLEdBQUssVUFBVUcsT0FBT0gsRUFBSyxHQUFJLE1BQU1HLE9BQU9ILEVBQUssR0FBSSxLQUMxREEsRUFBSyxHQUFLUSxHQUhWUixFQUFLLEdBQUtRLEdBTVZFLElBQ0dWLEVBQUssSUFHUkEsRUFBSyxHQUFLLGNBQWNHLE9BQU9ILEVBQUssR0FBSSxPQUFPRyxPQUFPSCxFQUFLLEdBQUksS0FDL0RBLEVBQUssR0FBS1UsR0FIVlYsRUFBSyxHQUFLLEdBQUdHLE9BQU9PLElBTXhCZCxFQUFLTCxLQUFLUyxHQUNaLENBQ0YsRUFDT0osQ0FDVCxDLFVDbEZBSixFQUFPRSxRQUFVLFNBQVVNLEdBQ3pCLElBQUlDLEVBQVVELEVBQUssR0FDZmdCLEVBQWFoQixFQUFLLEdBQ3RCLElBQUtnQixFQUNILE9BQU9mLEVBRVQsR0FBb0IsbUJBQVRnQixLQUFxQixDQUM5QixJQUFJQyxFQUFTRCxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVOLE1BQ3pETyxFQUFPLCtEQUErRHBCLE9BQU9lLEdBQzdFTSxFQUFnQixPQUFPckIsT0FBT29CLEVBQU0sT0FDeEMsTUFBTyxDQUFDdEIsR0FBU0UsT0FBTyxDQUFDcUIsSUFBZ0JuQixLQUFLLEtBQ2hELENBQ0EsTUFBTyxDQUFDSixHQUFTSSxLQUFLLEtBQ3hCLEMsVUNiQSxJQUFJb0IsRUFBYyxHQUVsQixTQUFTQyxFQUFxQkMsR0FHNUIsSUFGQSxJQUFJQyxHQUFVLEVBRUx0QixFQUFJLEVBQUdBLEVBQUltQixFQUFZckIsT0FBUUUsSUFDdEMsR0FBSW1CLEVBQVluQixHQUFHcUIsYUFBZUEsRUFBWSxDQUM1Q0MsRUFBU3RCLEVBQ1QsS0FDRixDQUdGLE9BQU9zQixDQUNULENBRUEsU0FBU0MsRUFBYWpDLEVBQU1rQyxHQUkxQixJQUhBLElBQUlDLEVBQWEsQ0FBQyxFQUNkQyxFQUFjLEdBRVQxQixFQUFJLEVBQUdBLEVBQUlWLEVBQUtRLE9BQVFFLElBQUssQ0FDcEMsSUFBSU4sRUFBT0osRUFBS1UsR0FDWmIsRUFBS3FDLEVBQVFHLEtBQU9qQyxFQUFLLEdBQUs4QixFQUFRRyxLQUFPakMsRUFBSyxHQUNsRGtDLEVBQVFILEVBQVd0QyxJQUFPLEVBQzFCa0MsRUFBYSxHQUFHeEIsT0FBT1YsRUFBSSxLQUFLVSxPQUFPK0IsR0FDM0NILEVBQVd0QyxHQUFNeUMsRUFBUSxFQUN6QixJQUFJQyxFQUFvQlQsRUFBcUJDLEdBQ3pDUyxFQUFNLENBQ1JDLElBQUtyQyxFQUFLLEdBQ1ZRLE1BQU9SLEVBQUssR0FDWnNDLFVBQVd0QyxFQUFLLEdBQ2hCVSxTQUFVVixFQUFLLEdBQ2ZXLE1BQU9YLEVBQUssSUFHZCxJQUEyQixJQUF2Qm1DLEVBQ0ZWLEVBQVlVLEdBQW1CSSxhQUMvQmQsRUFBWVUsR0FBbUJLLFFBQVFKLE9BQ2xDLENBQ0wsSUFBSUksRUFBVUMsRUFBZ0JMLEVBQUtOLEdBQ25DQSxFQUFRWSxRQUFVcEMsRUFDbEJtQixFQUFZa0IsT0FBT3JDLEVBQUcsRUFBRyxDQUN2QnFCLFdBQVlBLEVBQ1phLFFBQVNBLEVBQ1RELFdBQVksR0FFaEIsQ0FFQVAsRUFBWXpDLEtBQUtvQyxFQUNuQixDQUVBLE9BQU9LLENBQ1QsQ0FFQSxTQUFTUyxFQUFnQkwsRUFBS04sR0FDNUIsSUFBSWMsRUFBTWQsRUFBUWUsT0FBT2YsR0FlekIsT0FkQWMsRUFBSUUsT0FBT1YsR0FFRyxTQUFpQlcsR0FDN0IsR0FBSUEsRUFBUSxDQUNWLEdBQUlBLEVBQU9WLE1BQVFELEVBQUlDLEtBQU9VLEVBQU92QyxRQUFVNEIsRUFBSTVCLE9BQVN1QyxFQUFPVCxZQUFjRixFQUFJRSxXQUFhUyxFQUFPckMsV0FBYTBCLEVBQUkxQixVQUFZcUMsRUFBT3BDLFFBQVV5QixFQUFJekIsTUFDekosT0FHRmlDLEVBQUlFLE9BQU9WLEVBQU1XLEVBQ25CLE1BQ0VILEVBQUlJLFFBRVIsQ0FHRixDQUVBeEQsRUFBT0UsUUFBVSxTQUFVRSxFQUFNa0MsR0FHL0IsSUFBSW1CLEVBQWtCcEIsRUFEdEJqQyxFQUFPQSxHQUFRLEdBRGZrQyxFQUFVQSxHQUFXLENBQUMsR0FHdEIsT0FBTyxTQUFnQm9CLEdBQ3JCQSxFQUFVQSxHQUFXLEdBRXJCLElBQUssSUFBSTVDLEVBQUksRUFBR0EsRUFBSTJDLEVBQWdCN0MsT0FBUUUsSUFBSyxDQUMvQyxJQUNJNkMsRUFBUXpCLEVBREt1QixFQUFnQjNDLElBRWpDbUIsRUFBWTBCLEdBQU9aLFlBQ3JCLENBSUEsSUFGQSxJQUFJYSxFQUFxQnZCLEVBQWFxQixFQUFTcEIsR0FFdEN1QixFQUFLLEVBQUdBLEVBQUtKLEVBQWdCN0MsT0FBUWlELElBQU0sQ0FDbEQsSUFFSUMsRUFBUzVCLEVBRkt1QixFQUFnQkksSUFJSyxJQUFuQzVCLEVBQVk2QixHQUFRZixhQUN0QmQsRUFBWTZCLEdBQVFkLFVBRXBCZixFQUFZa0IsT0FBT1csRUFBUSxHQUUvQixDQUVBTCxFQUFrQkcsQ0FDcEIsQ0FDRixDLFVDckdBLElBQUlHLEVBQU8sQ0FBQyxFQW9DWi9ELEVBQU9FLFFBVlAsU0FBMEI4RCxFQUFRQyxHQUNoQyxJQUFJQyxFQXhCTixTQUFtQkEsR0FDakIsUUFBNEIsSUFBakJILEVBQUtHLEdBQXlCLENBQ3ZDLElBQUlDLEVBQWNDLFNBQVNDLGNBQWNILEdBRXpDLEdBQUlJLE9BQU9DLG1CQUFxQkosYUFBdUJHLE9BQU9DLGtCQUM1RCxJQUdFSixFQUFjQSxFQUFZSyxnQkFBZ0JDLElBQzVDLENBQUUsTUFBT0MsR0FFUFAsRUFBYyxJQUNoQixDQUdGSixFQUFLRyxHQUFVQyxDQUNqQixDQUVBLE9BQU9KLEVBQUtHLEVBQ2QsQ0FLZVMsQ0FBVVgsR0FFdkIsSUFBS0UsRUFDSCxNQUFNLElBQUlVLE1BQU0sMkdBR2xCVixFQUFPVyxZQUFZWixFQUNyQixDLFVDMUJBakUsRUFBT0UsUUFQUCxTQUE0Qm9DLEdBQzFCLElBQUl3QyxFQUFVVixTQUFTVyxjQUFjLFNBR3JDLE9BRkF6QyxFQUFRMEMsY0FBY0YsRUFBU3hDLEVBQVEyQyxZQUN2QzNDLEVBQVEwQixPQUFPYyxFQUFTeEMsRUFBUUEsU0FDekJ3QyxDQUNULEMsZ0JDR0E5RSxFQUFPRSxRQVJQLFNBQXdDZ0YsR0FDdEMsSUFBSUMsRUFBbUQsS0FFbkRBLEdBQ0ZELEVBQWFFLGFBQWEsUUFBU0QsRUFFdkMsQyxVQzREQW5GLEVBQU9FLFFBWlAsU0FBZ0JvQyxHQUNkLElBQUk0QyxFQUFlNUMsRUFBUStDLG1CQUFtQi9DLEdBQzlDLE1BQU8sQ0FDTGdCLE9BQVEsU0FBZ0JWLElBekQ1QixTQUFlc0MsRUFBYzVDLEVBQVNNLEdBQ3BDLElBQUlDLEVBQU0sR0FFTkQsRUFBSTFCLFdBQ04yQixHQUFPLGNBQWNsQyxPQUFPaUMsRUFBSTFCLFNBQVUsUUFHeEMwQixFQUFJNUIsUUFDTjZCLEdBQU8sVUFBVWxDLE9BQU9pQyxFQUFJNUIsTUFBTyxPQUdyQyxJQUFJTixPQUFpQyxJQUFka0MsRUFBSXpCLE1BRXZCVCxJQUNGbUMsR0FBTyxTQUFTbEMsT0FBT2lDLEVBQUl6QixNQUFNUCxPQUFTLEVBQUksSUFBSUQsT0FBT2lDLEVBQUl6QixPQUFTLEdBQUksT0FHNUUwQixHQUFPRCxFQUFJQyxJQUVQbkMsSUFDRm1DLEdBQU8sS0FHTEQsRUFBSTVCLFFBQ042QixHQUFPLEtBR0xELEVBQUkxQixXQUNOMkIsR0FBTyxLQUdULElBQUlDLEVBQVlGLEVBQUlFLFVBRWhCQSxHQUE2QixvQkFBVHJCLE9BQ3RCb0IsR0FBTyx1REFBdURsQyxPQUFPYyxLQUFLRSxTQUFTQyxtQkFBbUJDLEtBQUtDLFVBQVVnQixNQUFlLFFBTXRJUixFQUFRZ0Qsa0JBQWtCekMsRUFBS3FDLEVBQWM1QyxFQUFRQSxRQUN2RCxDQWlCTWlELENBQU1MLEVBQWM1QyxFQUFTTSxFQUMvQixFQUNBWSxPQUFRLFlBakJaLFNBQTRCMEIsR0FFMUIsR0FBZ0MsT0FBNUJBLEVBQWFNLFdBQ2YsT0FBTyxFQUdUTixFQUFhTSxXQUFXQyxZQUFZUCxFQUN0QyxDQVdNUSxDQUFtQlIsRUFDckIsRUFFSixDLFVDcERBbEYsRUFBT0UsUUFaUCxTQUEyQjJDLEVBQUtxQyxHQUM5QixHQUFJQSxFQUFhUyxXQUNmVCxFQUFhUyxXQUFXQyxRQUFVL0MsTUFDN0IsQ0FDTCxLQUFPcUMsRUFBYVcsWUFDbEJYLEVBQWFPLFlBQVlQLEVBQWFXLFlBR3hDWCxFQUFhTCxZQUFZVCxTQUFTMEIsZUFBZWpELEdBQ25ELENBQ0YsQyxHQ1pJa0QsRUFBMkIsQ0FBQyxFQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCN0UsSUFBakI4RSxFQUNILE9BQU9BLEVBQWFoRyxRQUdyQixJQUFJRixFQUFTK0YsRUFBeUJFLEdBQVksQ0FDakRoRyxHQUFJZ0csRUFFSi9GLFFBQVMsQ0FBQyxHQU9YLE9BSEFpRyxFQUFvQkYsR0FBVWpHLEVBQVFBLEVBQU9FLFFBQVM4RixHQUcvQ2hHLEVBQU9FLE9BQ2YsQ0NyQkE4RixFQUFvQkksRUFBS3BHLElBQ3hCLElBQUlxRyxFQUFTckcsR0FBVUEsRUFBT3NHLFdBQzdCLElBQU90RyxFQUFpQixRQUN4QixJQUFNLEVBRVAsT0FEQWdHLEVBQW9CTyxFQUFFRixFQUFRLENBQUVHLEVBQUdILElBQzVCQSxDQUFNLEVDTGRMLEVBQW9CTyxFQUFJLENBQUNyRyxFQUFTdUcsS0FDakMsSUFBSSxJQUFJQyxLQUFPRCxFQUNYVCxFQUFvQlcsRUFBRUYsRUFBWUMsS0FBU1YsRUFBb0JXLEVBQUV6RyxFQUFTd0csSUFDNUVFLE9BQU9DLGVBQWUzRyxFQUFTd0csRUFBSyxDQUFFSSxZQUFZLEVBQU1DLElBQUtOLEVBQVdDLElBRTFFLEVDTkRWLEVBQW9CVyxFQUFJLENBQUMvRCxFQUFLb0UsSUFBVUosT0FBT0ssVUFBVUMsZUFBZUMsS0FBS3ZFLEVBQUtvRSxHQ0FsRmhCLEVBQW9Cb0IsUUFBS2hHLEUsK0hDV3JCa0IsRUFBVSxDQUFDLEVBRWZBLEVBQVFnRCxrQkFBb0IsSUFDNUJoRCxFQUFRMEMsY0FBZ0IsSUFFbEIxQyxFQUFRMEIsT0FBUyxTQUFjLEtBQU0sUUFFM0MxQixFQUFRZSxPQUFTLElBQ2pCZixFQUFRK0MsbUJBQXFCLElBRWhCLElBQUksSUFBUy9DLEdBS0osS0FBVyxZQUFpQixXQUEzQyxNQzFCTSxRQUFFK0UsR0FBWUMsTUNHM0IsTUFBTUMsRUFDSkMsWUFBWUMsR0FDVm5ILEtBQUttSCxNQUFRQSxDQUNmLEVBR0ssU0FBU0MsRUFDZEMsRUFBU0MsRUFBS3hILEdBRWQsSUFBS2lILEVBQVFqSCxHQUNYLE1BQU0sSUFBSXlILFVBQVUsMENBRXRCLElBQUlsRSxFQUFRLEVBQ1osTUFBTW1FLEVBQU0xSCxFQUFLUSxPQUVqQixLQUFPK0MsRUFBUW1FLEdBQUksQ0FJakIsSUFIQUYsRUFBTUQsRUFDSkMsRUFBS3hILEVBQU11RCxHQUFTQSxFQUFPdkQsY0FFVm1ILEVBQ2pCLE9BQU9LLEVBQUlILE1BRWI5RCxHQUNGLENBRUEsT0FBT2lFLENBQ1QsQ0N3Q08sU0FBU0csRUFBTUMsRUFBR0MsR0FDdkIsT0FBTyxXQUNMLE9BQU9BLEVBQUVkLEtBQUs3RyxLQUFNMEgsRUFBRXpDLE1BQU1qRixLQUFNNEgsV0FDcEMsQ0FDRixFQ3pFTyxTQUFTQyxFQUFNQyxFQUFJQyxFQUFPLElBQy9CLE1BQU8sSUFBSUMsS0FDVCxPQUFDQyxFQUFrRSxJQUM5REYsS0FDQUMsSUFGUzFILFFBQVV3SCxFQUFHeEgsT0FBU3dILEtBQU1HLEdBQVFKLEVBQU1DLEVBQUlHLEdBQTVELElBQUNBLENBSUwsRUZ5QnNCSixDQUFNVCxHRzVCckIsTUFBTWMsRUFBUyxLQUNsQixJQUFJQyxFQ0Z3QixFQUFDQyxFQUFjLE1BQzNDLE1BQU05SCxFQUFTOEgsRUFDVEMsRUFBYyxHQUNkQyxFQUFPLEdBUWIsSUFBSUMsRUFGTyxJQUFJdkIsTUFETzFHLEVBQVNBLEdBSS9CLE1BQU1rSSxFQUFXLElBQU1ELEVBTWpCRSxFQUFTLENBQUNDLEVBQUdDLEtBQ2YsTUFBTXRGLEVBSmlCLEVBQUNxRixFQUFFQyxJQUNsQnJJLEVBQVNxSSxFQUFLRCxFQUdSRSxDQUFtQkYsRUFBR0MsR0FDcEMsT0FBT3RGLENBQUssRUF1Q1Z3RixFQUFZLENBQUNDLEVBQU1DLEtBQ3JCLE1BQU1MLEVBQUlLLEVBQUlMLEVBQ1JDLEVBQUlJLEVBQUlKLEVBQ1JLLEVBQWFQLEVBQU9DLEVBQUdDLEdBQzdCLElBQUtNLEVBQXFCSCxFQUFNQyxHQUM1QixNQUFNLElBQUl6RSxNQUFNLDZCQUVwQixJQUFJNEUsRUNwRWUsRUFBQ0MsRUFBYSxLQUNyQyxJQUFJQyxFQUFXLEVBR1g5SSxFQUFTNkksRUFDYixNQVNNRSxFQUFTLElBQ0pELEdBQVk5SSxFQUd2QixNQUFPLENBQ0hnSixZQWpCZ0IsSUFBTUYsRUFrQnRCRyxVQWZjLElBQU1qSixFQWdCcEJrSixJQWRRLEtBQ0pILEtBR0pELEdBQVUsRUFXVkMsU0FDSixFRDZDZUksQ0FBWVgsR0FDbkJZLEVBQVdsQixJQUNmLElBQUksSUFBSWhJLEVBQUksRUFBR0EsRUFBSTBJLEVBQUtLLFlBQWEvSSxJQUNqQ2tKLEVBQVNWLEVBQWF4SSxHQUFLMEksRUFJL0IsTUE1RGMsQ0FBQ1EsSUFBYW5CLEVBQVFtQixDQUFRLEVBMkQ1Q0MsQ0FBVUQsR0FDSG5CLENBQUssRUFHVlUsRUFBdUIsQ0FBQ0gsRUFBTUMsS0FDaEMsSUFBSyxJQUFJdkksRUFBSSxFQUFHQSxFQUFJc0ksRUFBTXRJLElBQUssQ0FDM0IsSUFBSWtJLEVBQUlLLEVBQUlMLEVBQUlsSSxFQUNabUksRUFBSUksRUFBSUosRUFBSW5JLEVBQ2hCLEdBQUlrSSxFQUFJcEksRUFBUyxHQUFLcUksRUFBSXJJLEVBQVMsRUFDL0IsT0FBTyxFQUVYLElBQUlzSixFQUFhbkIsRUFBT00sRUFBSUwsRUFBSWxJLEVBQUd1SSxFQUFJSixHQUN2QyxHQUFJSCxJQUFXb0IsR0FDWCxPQUFPLENBRWYsQ0FDQSxPQUFPLENBQUksRUEwQlRDLEVBQStCZixJQUNqQyxJQUFJSixFQUFJb0IsS0FBS0MsTUFBT0QsS0FBS0UsU0FBVzFKLEdBQ2hDcUksRUFBSW1CLEtBQUtDLE1BQU1ELEtBQUtFLFNBQVcxSixHQUNuQyxNQUFPMkksRUFBcUJILEVBQU0sQ0FBQ0osSUFBR0MsT0FDbENELEVBQUlvQixLQUFLQyxNQUFPRCxLQUFLRSxTQUFXMUosR0FDaENxSSxFQUFJbUIsS0FBS0MsTUFBTUQsS0FBS0UsU0FBVzFKLEdBRW5DLE1BQU8sQ0FBQ29JLElBQUdDLElBQUUsRUFFakIsTUFBTyxDQUNISCxXQUNBQyxTQUNBSSxZQUNBb0IsY0FuRmtCLENBQUN2QixFQUFHQyxLQUN0QixNQUFNSSxFQUFNLENBQUNMLEVBQUdDLEdBQ2hCLEdBbEJlLENBQUNJLElBQ2hCLE1BQU1tQixFQUFZM0ksS0FBS0MsVUFBVXVILEdBSWpDLE9BSG1CVCxFQUFLNkIsTUFBTS9GLEdBQ25CN0MsS0FBS0MsVUFBVTRDLEtBQU84RixHQUVkLEVBYWZFLENBQVdyQixJQVZDLENBQUNBLElBQ2pCLE1BQU1tQixFQUFZM0ksS0FBS0MsVUFBVXVILEdBSWpDLE9BSG1CVixFQUFZOEIsTUFBTS9GLEdBQzFCN0MsS0FBS0MsVUFBVTRDLEtBQU84RixHQUVkLEVBS0lHLENBQVl0QixHQUMvQixPQUdKLE1BQU1HLEVBQU9YLEVBQU1FLEVBQU9DLEVBQUVDLElBQ3hCTyxHQUFRQSxFQUFLTSxLQUNibEIsRUFBSzdJLEtBQUtzSixHQUNWRyxFQUFLTSxPQUVMbkIsRUFBWTVJLEtBQUtzSixFQUNyQixFQXdFQXVCLGVBNUhtQixJQUFPakMsRUE2SDFCa0MsVUF0Q2MsS0FDZCxJQUFLLE1BQU14QixLQUFPUixFQUNkLEdBQUdRLEdBQU9BLEVBQUlNLFNBQ0xOLEVBQUlNLFNBQ0wsT0FBTyxFQUluQixPQUFPLENBQUksRUErQlhtQixRQTdIWSxJQUFNbEMsRUE4SGxCbUMsY0E3QmtCLEtBQ2xCLE1BQU1DLEVBQWdCLENBQUMsRUFBRyxFQUFHLEVBQUcsRUFBRyxFQUFHLEdBQ2hDQyxFQUFlLEdBQ3JCLEtBQU9ELEVBQWNwSyxPQUFTLEdBQUcsQ0FDN0IsTUFBTXNLLEVBQWNGLEVBQWNHLFFBQzVCQyxFQUFhakIsRUFBNEJlLEdBQy9DL0IsRUFBVStCLEVBQWFFLEdBQ3ZCSCxFQUFhbEwsS0FBSyxDQUFDaUosRUFBR29DLEVBQVdwQyxFQUFHQyxFQUFHbUMsRUFBV25DLEdBQ3RELENBQ0EsT0FBT2dDLENBQVksRUFxQnZCLEVEbElnQkksR0FDWkMsR0FBa0IsRUFDdEIsTUFDTUMsRUFBc0JDLEdBQVdGLEVBQWtCRSxFQUV6RCxNQUFPLENBQ0gvQyxZQUNBZ0QsbUJBTHVCLElBQU1ILEVBTTdCQyxxQkFDQUcsc0JBTDBCLElBQU1ILEdBQW9CRCxHQU12RCxFQUdDSyxFQUFhLENBQUNDLEVBQVMsQ0FBQyxLQVduQixJQUNBQSxFQUNIQyxjQVprQixLQUdYLENBQ0g3QyxFQUhJb0IsS0FBS0MsTUFBTUQsS0FBS0UsU0FBWUYsS0FBSzBCLElBQUksR0FBSSxJQUk3QzdDLEVBSEltQixLQUFLQyxNQUFNRCxLQUFLRSxTQUFZRixLQUFLMEIsSUFBSSxHQUFJLElBSTdDQyxNQUFNLE0sYUdiZCxFQUFVLENBQUMsRUFFZixFQUFRekcsa0JBQW9CLElBQzVCLEVBQVFOLGNBQWdCLElBRWxCLEVBQVFoQixPQUFTLFNBQWMsS0FBTSxRQUUzQyxFQUFRWCxPQUFTLElBQ2pCLEVBQVFnQyxtQkFBcUIsSUFFaEIsSUFBSSxJQUFTLEdBS0osS0FBVyxZQUFpQixXQ3hCM0MsTUFBTSxFQUNUbUMsWUFBWW9FLEVBQVFJLEdBQVksR0FDNUIxTCxLQUFLc0wsT0FBU0EsRUFDZHRMLEtBQUsyTCxVQUFZTCxFQUFPbkQsVUFDeEJuSSxLQUFLMEwsVUFBWUEsQ0FDckIsQ0FFQUUsU0FDSSxNQUFNQyxFQUFlL0gsU0FBU1csY0FBYyxPQUM1Q29ILEVBQWFDLFVBQVVDLElBQUksdUJBRTNCLE1BQU1DLEVBQWFoTSxLQUFLMkwsVUFBVW5ELFdBQ2xDLElBQUssSUFBSWhJLEVBQUksRUFBR0EsRUFBSVIsS0FBSzJMLFVBQVVuRCxXQUFXbEksT0FBUUUsSUFBSyxDQUN2RCxNQUFNeUwsRUFBZ0JuSSxTQUFTVyxjQUFjLE9BQzdDd0gsRUFBY0gsVUFBVUMsSUFBSSxrQkFDNUJFLEVBQWNDLFlBQWMxTCxFQUM1QnlMLEVBQWNFLFNBQVczTCxFQUV6QnlMLEVBQWNHLGlCQUFpQixTQUFVaEksSUFDckMsTUFBTStILEVBQVcvSCxFQUFFaUksY0FBY0YsU0FDakNHLFFBQVFDLElBQUksV0FBYUosRUFBUyxJQUdsQ0gsRUFBV3hMLEtBQU9SLEtBQUswTCxZQUN2Qk8sRUFBY0gsVUFBVUMsSUFBSSxRQUV6QkMsRUFBV3hMLEdBQUc2SSxVQUNiNEMsRUFBY0gsVUFBVUMsSUFBSSxTQUlwQ0YsRUFBYXRILFlBQVkwSCxFQUM3QixDQUVBLE9BQU9KLENBQ1gsRUNqQ0csTUFBTVcsRUFDVHRGLGNBQ0lsSCxLQUFLeU0sUUFBVXZFLElBQ2ZsSSxLQUFLeU0sUUFBUXRFLFVBQVVzQyxnQkFDdkJ6SyxLQUFLME0sUUwwQlcsTUFDcEIsTUFBTXBCLEVBQVNwRCxJQUNmLE9GdUNHLFdBQ0wsR0FBeUIsSUFBckJOLFVBQVV0SCxPQUNaLE1BQU0sSUFBSWdFLE1BQU0sdUNBR2xCLE9BOUVLLFNBQWdCd0IsRUFBR2dDLEdBQ3hCLE9BQVFoQyxHQUNSLEtBQUssRUFDSCxPQUFPLFdBQ0wsT0FBT2dDLEVBQUc3QyxNQUFNakYsS0FBTTRILFVBQ3hCLEVBQ0YsS0FBSyxFQUNILE9BQU8sU0FBVStFLEdBQ2YsT0FBTzdFLEVBQUc3QyxNQUFNakYsS0FBTTRILFVBQ3hCLEVBQ0YsS0FBSyxFQUNILE9BQU8sU0FBVStFLEVBQUlDLEdBQ25CLE9BQU85RSxFQUFHN0MsTUFBTWpGLEtBQU00SCxVQUN4QixFQUNGLEtBQUssRUFDSCxPQUFPLFNBQ0wrRSxFQUFJQyxFQUFJQyxHQUVSLE9BQU8vRSxFQUFHN0MsTUFBTWpGLEtBQU00SCxVQUN4QixFQUNGLEtBQUssRUFDSCxPQUFPLFNBQ0wrRSxFQUFJQyxFQUFJQyxFQUFJQyxHQUVaLE9BQU9oRixFQUFHN0MsTUFBTWpGLEtBQU00SCxVQUN4QixFQUNGLEtBQUssRUFDSCxPQUFPLFNBQ0wrRSxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUVoQixPQUFPakYsRUFBRzdDLE1BQU1qRixLQUFNNEgsVUFDeEIsRUFDRixLQUFLLEVBQ0gsT0FBTyxTQUNMK0UsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsR0FFcEIsT0FBT2xGLEVBQUc3QyxNQUFNakYsS0FBTTRILFVBQ3hCLEVBQ0YsS0FBSyxFQUNILE9BQU8sU0FDTCtFLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEdBRXhCLE9BQU9uRixFQUFHN0MsTUFBTWpGLEtBQU00SCxVQUN4QixFQUNGLEtBQUssRUFDSCxPQUFPLFNBQ0wrRSxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxFQUFJQyxHQUU1QixPQUFPcEYsRUFBRzdDLE1BQU1qRixLQUFNNEgsVUFDeEIsRUFDRixLQUFLLEVBQ0gsT0FBTyxTQUNMK0UsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsRUFBSUMsR0FFaEMsT0FBT3JGLEVBQUc3QyxNQUFNakYsS0FBTTRILFVBQ3hCLEVBQ0YsS0FBSyxHQUNILE9BQU8sU0FDTCtFLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEVBQUlDLEdBRXBDLE9BQU90RixFQUFHN0MsTUFBTWpGLEtBQU00SCxVQUN4QixFQUNGLFFBQ0UsTUFBTSxJQUFJdEQsTUFBTSwrRUFFcEIsQ0FhUytJLENBQU96RixVQUFXLEdBQUl0SCxPQUMzQjhHLEVBQ0VLLEVBQ0FHLFVBQVcsR0FDWFosTUFBTUwsVUFBVTJHLE1BQU16RyxLQUNwQmUsVUFBVyxFQUFHMkYsTUFHdEIsQ0VwRFdDLENBQ1BuQyxFQURPbUMsQ0FFTGxDLEVBQU0sRUs5QldtQyxHQUNmek4sS0FBSzBNLFFBQVF2RSxVQUFVc0MsZ0JBRXZCekssS0FBSzBOLGlCQUFtQixJQUFJLEVBQW1CMU4sS0FBS3lNLFNBQVMsR0FDN0R6TSxLQUFLMk4saUJBQW1CLElBQUksRUFBbUIzTixLQUFLME0sU0FBUyxFQUM3RCxFQ1RSLE1BQ0lKLFFBQVFDLElBQUkseUJBQ1osTUFBTXFCLEVBQVU5SixTQUFTQyxjQUFjLFlBRWpDOEosRUFBTyxJQUFJckIsRUFDakJvQixFQUFRckosWUFBWXNKLEVBQUtILGlCQUFpQjlCLFVBQzFDZ0MsRUFBUXJKLFlBQVlzSixFQUFLRixpQkFBaUIvQixTQUM3QyxFQVBELEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvYXBwLmNzcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9zcmMvZ2FtZWJvYXJkL0dhbWVib2FyZENvbXBvbmVudC5jc3MiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbmplY3RTdHlsZXNJbnRvU3R5bGVUYWcuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0QnlTZWxlY3Rvci5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvc3R5bGUtbG9hZGVyL2Rpc3QvcnVudGltZS9pbnNlcnRTdHlsZUVsZW1lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlRG9tQVBJLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2NvbXBhdCBnZXQgZGVmYXVsdCBleHBvcnQiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwL3dlYnBhY2svcnVudGltZS9kZWZpbmUgcHJvcGVydHkgZ2V0dGVycyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL2hhc093blByb3BlcnR5IHNob3J0aGFuZCIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvd2VicGFjay9ydW50aW1lL25vbmNlIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9hcHAuY3NzP2E2NzIiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vbm9kZV9tb2R1bGVzL3JhbWJkYS9zcmMvX2ludGVybmFscy9pc0FycmF5LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9yYW1iZGEvc3JjL3JlZHVjZS5qcyIsIndlYnBhY2s6Ly9vZGluLWJhdHRsZXNoaXAvLi9ub2RlX21vZHVsZXMvcmFtYmRhL3NyYy9waXBlLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL25vZGVfbW9kdWxlcy9yYW1iZGEvc3JjL2N1cnJ5LmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9wbGF5ZXIvcGxheWVyLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9nYW1lYm9hcmQvZ2FtZWJvYXJkLmpzIiwid2VicGFjazovL29kaW4tYmF0dGxlc2hpcC8uL3NyYy9zaGlwL3NoaXAuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC9HYW1lYm9hcmRDb21wb25lbnQuY3NzP2Y5ZGUiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2dhbWVib2FyZC9HYW1lYm9hcmRDb21wb25lbnQuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL0dhbWUuanMiLCJ3ZWJwYWNrOi8vb2Rpbi1iYXR0bGVzaGlwLy4vc3JjL2FwcC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBJbXBvcnRzXG5pbXBvcnQgX19fQ1NTX0xPQURFUl9BUElfU09VUkNFTUFQX0lNUE9SVF9fXyBmcm9tIFwiLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL3NvdXJjZU1hcHMuanNcIjtcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9JTVBPUlRfX18gZnJvbSBcIi4uL25vZGVfbW9kdWxlcy9jc3MtbG9hZGVyL2Rpc3QvcnVudGltZS9hcGkuanNcIjtcbnZhciBfX19DU1NfTE9BREVSX0VYUE9SVF9fXyA9IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyhfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fKTtcbi8vIE1vZHVsZVxuX19fQ1NTX0xPQURFUl9FWFBPUlRfX18ucHVzaChbbW9kdWxlLmlkLCBcIi53cmFwcGVyIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiAxZnIgMWZyO1xcclxcbiAgICBqdXN0aWZ5LWl0ZW1zOiBjZW50ZXI7XFxyXFxufVwiLCBcIlwiLHtcInZlcnNpb25cIjozLFwic291cmNlc1wiOltcIndlYnBhY2s6Ly8uL3NyYy9hcHAuY3NzXCJdLFwibmFtZXNcIjpbXSxcIm1hcHBpbmdzXCI6XCJBQUFBO0lBQ0ksYUFBYTtJQUNiLDhCQUE4QjtJQUM5QixxQkFBcUI7QUFDekJcIixcInNvdXJjZXNDb250ZW50XCI6W1wiLndyYXBwZXIge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IDFmciAxZnI7XFxyXFxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIi8vIEltcG9ydHNcbmltcG9ydCBfX19DU1NfTE9BREVSX0FQSV9TT1VSQ0VNQVBfSU1QT1JUX19fIGZyb20gXCIuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L3J1bnRpbWUvc291cmNlTWFwcy5qc1wiO1xuaW1wb3J0IF9fX0NTU19MT0FERVJfQVBJX0lNUE9SVF9fXyBmcm9tIFwiLi4vLi4vbm9kZV9tb2R1bGVzL2Nzcy1sb2FkZXIvZGlzdC9ydW50aW1lL2FwaS5qc1wiO1xudmFyIF9fX0NTU19MT0FERVJfRVhQT1JUX19fID0gX19fQ1NTX0xPQURFUl9BUElfSU1QT1JUX19fKF9fX0NTU19MT0FERVJfQVBJX1NPVVJDRU1BUF9JTVBPUlRfX18pO1xuLy8gTW9kdWxlXG5fX19DU1NfTE9BREVSX0VYUE9SVF9fXy5wdXNoKFttb2R1bGUuaWQsIFwiLmdhbWVib2FyZC1jb250YWluZXIge1xcclxcbiAgICBkaXNwbGF5OiBncmlkO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLWNvbHVtbnM6IHJlcGVhdCgxMCwgNTBweCk7XFxyXFxuICAgIGdyaWQtdGVtcGxhdGUtcm93czogcmVwZWF0KDEwLCA1MHB4KTtcXHJcXG59XFxyXFxuXFxyXFxuLmdhbWVib2FyZC1pdGVtIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXHJcXG4gICAganVzdGlmeS1pdGVtczogY2VudGVyO1xcclxcbiAgICBib3JkZXI6IDFweCBzb2xpZCAjNzc3O1xcclxcbiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcclxcbn1cXHJcXG5cXHJcXG4uc2hpcCB7XFxyXFxuICAgIGJhY2tncm91bmQtY29sb3I6ICMzMzM7XFxyXFxuICAgIGNvbG9yOiAjZmZmO1xcclxcbn1cIiwgXCJcIix7XCJ2ZXJzaW9uXCI6MyxcInNvdXJjZXNcIjpbXCJ3ZWJwYWNrOi8vLi9zcmMvZ2FtZWJvYXJkL0dhbWVib2FyZENvbXBvbmVudC5jc3NcIl0sXCJuYW1lc1wiOltdLFwibWFwcGluZ3NcIjpcIkFBQUE7SUFDSSxhQUFhO0lBQ2IsdUNBQXVDO0lBQ3ZDLG9DQUFvQztBQUN4Qzs7QUFFQTtJQUNJLGFBQWE7SUFDYixtQkFBbUI7SUFDbkIscUJBQXFCO0lBQ3JCLHNCQUFzQjtJQUN0QixzQkFBc0I7QUFDMUI7O0FBRUE7SUFDSSxzQkFBc0I7SUFDdEIsV0FBVztBQUNmXCIsXCJzb3VyY2VzQ29udGVudFwiOltcIi5nYW1lYm9hcmQtY29udGFpbmVyIHtcXHJcXG4gICAgZGlzcGxheTogZ3JpZDtcXHJcXG4gICAgZ3JpZC10ZW1wbGF0ZS1jb2x1bW5zOiByZXBlYXQoMTAsIDUwcHgpO1xcclxcbiAgICBncmlkLXRlbXBsYXRlLXJvd3M6IHJlcGVhdCgxMCwgNTBweCk7XFxyXFxufVxcclxcblxcclxcbi5nYW1lYm9hcmQtaXRlbSB7XFxyXFxuICAgIGRpc3BsYXk6IGdyaWQ7XFxyXFxuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxyXFxuICAgIGp1c3RpZnktaXRlbXM6IGNlbnRlcjtcXHJcXG4gICAgYm9yZGVyOiAxcHggc29saWQgIzc3NztcXHJcXG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXHJcXG59XFxyXFxuXFxyXFxuLnNoaXAge1xcclxcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMzMzO1xcclxcbiAgICBjb2xvcjogI2ZmZjtcXHJcXG59XCJdLFwic291cmNlUm9vdFwiOlwiXCJ9XSk7XG4vLyBFeHBvcnRzXG5leHBvcnQgZGVmYXVsdCBfX19DU1NfTE9BREVSX0VYUE9SVF9fXztcbiIsIlwidXNlIHN0cmljdFwiO1xuXG4vKlxuICBNSVQgTGljZW5zZSBodHRwOi8vd3d3Lm9wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL21pdC1saWNlbnNlLnBocFxuICBBdXRob3IgVG9iaWFzIEtvcHBlcnMgQHNva3JhXG4qL1xubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAoY3NzV2l0aE1hcHBpbmdUb1N0cmluZykge1xuICB2YXIgbGlzdCA9IFtdO1xuXG4gIC8vIHJldHVybiB0aGUgbGlzdCBvZiBtb2R1bGVzIGFzIGNzcyBzdHJpbmdcbiAgbGlzdC50b1N0cmluZyA9IGZ1bmN0aW9uIHRvU3RyaW5nKCkge1xuICAgIHJldHVybiB0aGlzLm1hcChmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgdmFyIGNvbnRlbnQgPSBcIlwiO1xuICAgICAgdmFyIG5lZWRMYXllciA9IHR5cGVvZiBpdGVtWzVdICE9PSBcInVuZGVmaW5lZFwiO1xuICAgICAgaWYgKGl0ZW1bNF0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIkBtZWRpYSBcIi5jb25jYXQoaXRlbVsyXSwgXCIge1wiKTtcbiAgICAgIH1cbiAgICAgIGlmIChuZWVkTGF5ZXIpIHtcbiAgICAgICAgY29udGVudCArPSBcIkBsYXllclwiLmNvbmNhdChpdGVtWzVdLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQoaXRlbVs1XSkgOiBcIlwiLCBcIiB7XCIpO1xuICAgICAgfVxuICAgICAgY29udGVudCArPSBjc3NXaXRoTWFwcGluZ1RvU3RyaW5nKGl0ZW0pO1xuICAgICAgaWYgKG5lZWRMYXllcikge1xuICAgICAgICBjb250ZW50ICs9IFwifVwiO1xuICAgICAgfVxuICAgICAgaWYgKGl0ZW1bMl0pIHtcbiAgICAgICAgY29udGVudCArPSBcIn1cIjtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVtWzRdKSB7XG4gICAgICAgIGNvbnRlbnQgKz0gXCJ9XCI7XG4gICAgICB9XG4gICAgICByZXR1cm4gY29udGVudDtcbiAgICB9KS5qb2luKFwiXCIpO1xuICB9O1xuXG4gIC8vIGltcG9ydCBhIGxpc3Qgb2YgbW9kdWxlcyBpbnRvIHRoZSBsaXN0XG4gIGxpc3QuaSA9IGZ1bmN0aW9uIGkobW9kdWxlcywgbWVkaWEsIGRlZHVwZSwgc3VwcG9ydHMsIGxheWVyKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGVzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICBtb2R1bGVzID0gW1tudWxsLCBtb2R1bGVzLCB1bmRlZmluZWRdXTtcbiAgICB9XG4gICAgdmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXMgPSB7fTtcbiAgICBpZiAoZGVkdXBlKSB7XG4gICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgdmFyIGlkID0gdGhpc1trXVswXTtcbiAgICAgICAgaWYgKGlkICE9IG51bGwpIHtcbiAgICAgICAgICBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgZm9yICh2YXIgX2sgPSAwOyBfayA8IG1vZHVsZXMubGVuZ3RoOyBfaysrKSB7XG4gICAgICB2YXIgaXRlbSA9IFtdLmNvbmNhdChtb2R1bGVzW19rXSk7XG4gICAgICBpZiAoZGVkdXBlICYmIGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV0pIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGxheWVyICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgIGlmICh0eXBlb2YgaXRlbVs1XSA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbGF5ZXJcIi5jb25jYXQoaXRlbVs1XS5sZW5ndGggPiAwID8gXCIgXCIuY29uY2F0KGl0ZW1bNV0pIDogXCJcIiwgXCIge1wiKS5jb25jYXQoaXRlbVsxXSwgXCJ9XCIpO1xuICAgICAgICAgIGl0ZW1bNV0gPSBsYXllcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKG1lZGlhKSB7XG4gICAgICAgIGlmICghaXRlbVsyXSkge1xuICAgICAgICAgIGl0ZW1bMl0gPSBtZWRpYTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpdGVtWzFdID0gXCJAbWVkaWEgXCIuY29uY2F0KGl0ZW1bMl0sIFwiIHtcIikuY29uY2F0KGl0ZW1bMV0sIFwifVwiKTtcbiAgICAgICAgICBpdGVtWzJdID0gbWVkaWE7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChzdXBwb3J0cykge1xuICAgICAgICBpZiAoIWl0ZW1bNF0pIHtcbiAgICAgICAgICBpdGVtWzRdID0gXCJcIi5jb25jYXQoc3VwcG9ydHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGl0ZW1bMV0gPSBcIkBzdXBwb3J0cyAoXCIuY29uY2F0KGl0ZW1bNF0sIFwiKSB7XCIpLmNvbmNhdChpdGVtWzFdLCBcIn1cIik7XG4gICAgICAgICAgaXRlbVs0XSA9IHN1cHBvcnRzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBsaXN0LnB1c2goaXRlbSk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gbGlzdDtcbn07IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgdmFyIGNvbnRlbnQgPSBpdGVtWzFdO1xuICB2YXIgY3NzTWFwcGluZyA9IGl0ZW1bM107XG4gIGlmICghY3NzTWFwcGluZykge1xuICAgIHJldHVybiBjb250ZW50O1xuICB9XG4gIGlmICh0eXBlb2YgYnRvYSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFyIGJhc2U2NCA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGNzc01hcHBpbmcpKSkpO1xuICAgIHZhciBkYXRhID0gXCJzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIi5jb25jYXQoYmFzZTY0KTtcbiAgICB2YXIgc291cmNlTWFwcGluZyA9IFwiLyojIFwiLmNvbmNhdChkYXRhLCBcIiAqL1wiKTtcbiAgICByZXR1cm4gW2NvbnRlbnRdLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIik7XG4gIH1cbiAgcmV0dXJuIFtjb250ZW50XS5qb2luKFwiXFxuXCIpO1xufTsiLCJcInVzZSBzdHJpY3RcIjtcblxudmFyIHN0eWxlc0luRE9NID0gW107XG5cbmZ1bmN0aW9uIGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpIHtcbiAgdmFyIHJlc3VsdCA9IC0xO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3R5bGVzSW5ET00ubGVuZ3RoOyBpKyspIHtcbiAgICBpZiAoc3R5bGVzSW5ET01baV0uaWRlbnRpZmllciA9PT0gaWRlbnRpZmllcikge1xuICAgICAgcmVzdWx0ID0gaTtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1vZHVsZXNUb0RvbShsaXN0LCBvcHRpb25zKSB7XG4gIHZhciBpZENvdW50TWFwID0ge307XG4gIHZhciBpZGVudGlmaWVycyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykge1xuICAgIHZhciBpdGVtID0gbGlzdFtpXTtcbiAgICB2YXIgaWQgPSBvcHRpb25zLmJhc2UgPyBpdGVtWzBdICsgb3B0aW9ucy5iYXNlIDogaXRlbVswXTtcbiAgICB2YXIgY291bnQgPSBpZENvdW50TWFwW2lkXSB8fCAwO1xuICAgIHZhciBpZGVudGlmaWVyID0gXCJcIi5jb25jYXQoaWQsIFwiIFwiKS5jb25jYXQoY291bnQpO1xuICAgIGlkQ291bnRNYXBbaWRdID0gY291bnQgKyAxO1xuICAgIHZhciBpbmRleEJ5SWRlbnRpZmllciA9IGdldEluZGV4QnlJZGVudGlmaWVyKGlkZW50aWZpZXIpO1xuICAgIHZhciBvYmogPSB7XG4gICAgICBjc3M6IGl0ZW1bMV0sXG4gICAgICBtZWRpYTogaXRlbVsyXSxcbiAgICAgIHNvdXJjZU1hcDogaXRlbVszXSxcbiAgICAgIHN1cHBvcnRzOiBpdGVtWzRdLFxuICAgICAgbGF5ZXI6IGl0ZW1bNV1cbiAgICB9O1xuXG4gICAgaWYgKGluZGV4QnlJZGVudGlmaWVyICE9PSAtMSkge1xuICAgICAgc3R5bGVzSW5ET01baW5kZXhCeUlkZW50aWZpZXJdLnJlZmVyZW5jZXMrKztcbiAgICAgIHN0eWxlc0luRE9NW2luZGV4QnlJZGVudGlmaWVyXS51cGRhdGVyKG9iaik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB1cGRhdGVyID0gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucyk7XG4gICAgICBvcHRpb25zLmJ5SW5kZXggPSBpO1xuICAgICAgc3R5bGVzSW5ET00uc3BsaWNlKGksIDAsIHtcbiAgICAgICAgaWRlbnRpZmllcjogaWRlbnRpZmllcixcbiAgICAgICAgdXBkYXRlcjogdXBkYXRlcixcbiAgICAgICAgcmVmZXJlbmNlczogMVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgaWRlbnRpZmllcnMucHVzaChpZGVudGlmaWVyKTtcbiAgfVxuXG4gIHJldHVybiBpZGVudGlmaWVycztcbn1cblxuZnVuY3Rpb24gYWRkRWxlbWVudFN0eWxlKG9iaiwgb3B0aW9ucykge1xuICB2YXIgYXBpID0gb3B0aW9ucy5kb21BUEkob3B0aW9ucyk7XG4gIGFwaS51cGRhdGUob2JqKTtcblxuICB2YXIgdXBkYXRlciA9IGZ1bmN0aW9uIHVwZGF0ZXIobmV3T2JqKSB7XG4gICAgaWYgKG5ld09iaikge1xuICAgICAgaWYgKG5ld09iai5jc3MgPT09IG9iai5jc3MgJiYgbmV3T2JqLm1lZGlhID09PSBvYmoubWVkaWEgJiYgbmV3T2JqLnNvdXJjZU1hcCA9PT0gb2JqLnNvdXJjZU1hcCAmJiBuZXdPYmouc3VwcG9ydHMgPT09IG9iai5zdXBwb3J0cyAmJiBuZXdPYmoubGF5ZXIgPT09IG9iai5sYXllcikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGFwaS51cGRhdGUob2JqID0gbmV3T2JqKTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBpLnJlbW92ZSgpO1xuICAgIH1cbiAgfTtcblxuICByZXR1cm4gdXBkYXRlcjtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobGlzdCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgbGlzdCA9IGxpc3QgfHwgW107XG4gIHZhciBsYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obGlzdCwgb3B0aW9ucyk7XG4gIHJldHVybiBmdW5jdGlvbiB1cGRhdGUobmV3TGlzdCkge1xuICAgIG5ld0xpc3QgPSBuZXdMaXN0IHx8IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsYXN0SWRlbnRpZmllcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBpZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW2ldO1xuICAgICAgdmFyIGluZGV4ID0gZ2V0SW5kZXhCeUlkZW50aWZpZXIoaWRlbnRpZmllcik7XG4gICAgICBzdHlsZXNJbkRPTVtpbmRleF0ucmVmZXJlbmNlcy0tO1xuICAgIH1cblxuICAgIHZhciBuZXdMYXN0SWRlbnRpZmllcnMgPSBtb2R1bGVzVG9Eb20obmV3TGlzdCwgb3B0aW9ucyk7XG5cbiAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGFzdElkZW50aWZpZXJzLmxlbmd0aDsgX2krKykge1xuICAgICAgdmFyIF9pZGVudGlmaWVyID0gbGFzdElkZW50aWZpZXJzW19pXTtcblxuICAgICAgdmFyIF9pbmRleCA9IGdldEluZGV4QnlJZGVudGlmaWVyKF9pZGVudGlmaWVyKTtcblxuICAgICAgaWYgKHN0eWxlc0luRE9NW19pbmRleF0ucmVmZXJlbmNlcyA9PT0gMCkge1xuICAgICAgICBzdHlsZXNJbkRPTVtfaW5kZXhdLnVwZGF0ZXIoKTtcblxuICAgICAgICBzdHlsZXNJbkRPTS5zcGxpY2UoX2luZGV4LCAxKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBsYXN0SWRlbnRpZmllcnMgPSBuZXdMYXN0SWRlbnRpZmllcnM7XG4gIH07XG59OyIsIlwidXNlIHN0cmljdFwiO1xuXG52YXIgbWVtbyA9IHt9O1xuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cbmZ1bmN0aW9uIGdldFRhcmdldCh0YXJnZXQpIHtcbiAgaWYgKHR5cGVvZiBtZW1vW3RhcmdldF0gPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICB2YXIgc3R5bGVUYXJnZXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRhcmdldCk7IC8vIFNwZWNpYWwgY2FzZSB0byByZXR1cm4gaGVhZCBvZiBpZnJhbWUgaW5zdGVhZCBvZiBpZnJhbWUgaXRzZWxmXG5cbiAgICBpZiAod2luZG93LkhUTUxJRnJhbWVFbGVtZW50ICYmIHN0eWxlVGFyZ2V0IGluc3RhbmNlb2Ygd2luZG93LkhUTUxJRnJhbWVFbGVtZW50KSB7XG4gICAgICB0cnkge1xuICAgICAgICAvLyBUaGlzIHdpbGwgdGhyb3cgYW4gZXhjZXB0aW9uIGlmIGFjY2VzcyB0byBpZnJhbWUgaXMgYmxvY2tlZFxuICAgICAgICAvLyBkdWUgdG8gY3Jvc3Mtb3JpZ2luIHJlc3RyaWN0aW9uc1xuICAgICAgICBzdHlsZVRhcmdldCA9IHN0eWxlVGFyZ2V0LmNvbnRlbnREb2N1bWVudC5oZWFkO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAvLyBpc3RhbmJ1bCBpZ25vcmUgbmV4dFxuICAgICAgICBzdHlsZVRhcmdldCA9IG51bGw7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbWVtb1t0YXJnZXRdID0gc3R5bGVUYXJnZXQ7XG4gIH1cblxuICByZXR1cm4gbWVtb1t0YXJnZXRdO1xufVxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5cblxuZnVuY3Rpb24gaW5zZXJ0QnlTZWxlY3RvcihpbnNlcnQsIHN0eWxlKSB7XG4gIHZhciB0YXJnZXQgPSBnZXRUYXJnZXQoaW5zZXJ0KTtcblxuICBpZiAoIXRhcmdldCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkNvdWxkbid0IGZpbmQgYSBzdHlsZSB0YXJnZXQuIFRoaXMgcHJvYmFibHkgbWVhbnMgdGhhdCB0aGUgdmFsdWUgZm9yIHRoZSAnaW5zZXJ0JyBwYXJhbWV0ZXIgaXMgaW52YWxpZC5cIik7XG4gIH1cblxuICB0YXJnZXQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGluc2VydEJ5U2VsZWN0b3I7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gaW5zZXJ0U3R5bGVFbGVtZW50KG9wdGlvbnMpIHtcbiAgdmFyIGVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7XG4gIG9wdGlvbnMuc2V0QXR0cmlidXRlcyhlbGVtZW50LCBvcHRpb25zLmF0dHJpYnV0ZXMpO1xuICBvcHRpb25zLmluc2VydChlbGVtZW50LCBvcHRpb25zLm9wdGlvbnMpO1xuICByZXR1cm4gZWxlbWVudDtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzKHN0eWxlRWxlbWVudCkge1xuICB2YXIgbm9uY2UgPSB0eXBlb2YgX193ZWJwYWNrX25vbmNlX18gIT09IFwidW5kZWZpbmVkXCIgPyBfX3dlYnBhY2tfbm9uY2VfXyA6IG51bGw7XG5cbiAgaWYgKG5vbmNlKSB7XG4gICAgc3R5bGVFbGVtZW50LnNldEF0dHJpYnV0ZShcIm5vbmNlXCIsIG5vbmNlKTtcbiAgfVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHNldEF0dHJpYnV0ZXNXaXRob3V0QXR0cmlidXRlczsiLCJcInVzZSBzdHJpY3RcIjtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgICovXG5mdW5jdGlvbiBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaikge1xuICB2YXIgY3NzID0gXCJcIjtcblxuICBpZiAob2JqLnN1cHBvcnRzKSB7XG4gICAgY3NzICs9IFwiQHN1cHBvcnRzIChcIi5jb25jYXQob2JqLnN1cHBvcnRzLCBcIikge1wiKTtcbiAgfVxuXG4gIGlmIChvYmoubWVkaWEpIHtcbiAgICBjc3MgKz0gXCJAbWVkaWEgXCIuY29uY2F0KG9iai5tZWRpYSwgXCIge1wiKTtcbiAgfVxuXG4gIHZhciBuZWVkTGF5ZXIgPSB0eXBlb2Ygb2JqLmxheWVyICE9PSBcInVuZGVmaW5lZFwiO1xuXG4gIGlmIChuZWVkTGF5ZXIpIHtcbiAgICBjc3MgKz0gXCJAbGF5ZXJcIi5jb25jYXQob2JqLmxheWVyLmxlbmd0aCA+IDAgPyBcIiBcIi5jb25jYXQob2JqLmxheWVyKSA6IFwiXCIsIFwiIHtcIik7XG4gIH1cblxuICBjc3MgKz0gb2JqLmNzcztcblxuICBpZiAobmVlZExheWVyKSB7XG4gICAgY3NzICs9IFwifVwiO1xuICB9XG5cbiAgaWYgKG9iai5tZWRpYSkge1xuICAgIGNzcyArPSBcIn1cIjtcbiAgfVxuXG4gIGlmIChvYmouc3VwcG9ydHMpIHtcbiAgICBjc3MgKz0gXCJ9XCI7XG4gIH1cblxuICB2YXIgc291cmNlTWFwID0gb2JqLnNvdXJjZU1hcDtcblxuICBpZiAoc291cmNlTWFwICYmIHR5cGVvZiBidG9hICE9PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgY3NzICs9IFwiXFxuLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2Jhc2U2NCxcIi5jb25jYXQoYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKSwgXCIgKi9cIik7XG4gIH0gLy8gRm9yIG9sZCBJRVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAgKi9cblxuXG4gIG9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQsIG9wdGlvbnMub3B0aW9ucyk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpIHtcbiAgLy8gaXN0YW5idWwgaWdub3JlIGlmXG4gIGlmIChzdHlsZUVsZW1lbnQucGFyZW50Tm9kZSA9PT0gbnVsbCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN0eWxlRWxlbWVudC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHN0eWxlRWxlbWVudCk7XG59XG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAgKi9cblxuXG5mdW5jdGlvbiBkb21BUEkob3B0aW9ucykge1xuICB2YXIgc3R5bGVFbGVtZW50ID0gb3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQob3B0aW9ucyk7XG4gIHJldHVybiB7XG4gICAgdXBkYXRlOiBmdW5jdGlvbiB1cGRhdGUob2JqKSB7XG4gICAgICBhcHBseShzdHlsZUVsZW1lbnQsIG9wdGlvbnMsIG9iaik7XG4gICAgfSxcbiAgICByZW1vdmU6IGZ1bmN0aW9uIHJlbW92ZSgpIHtcbiAgICAgIHJlbW92ZVN0eWxlRWxlbWVudChzdHlsZUVsZW1lbnQpO1xuICAgIH1cbiAgfTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBkb21BUEk7IiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICAqL1xuZnVuY3Rpb24gc3R5bGVUYWdUcmFuc2Zvcm0oY3NzLCBzdHlsZUVsZW1lbnQpIHtcbiAgaWYgKHN0eWxlRWxlbWVudC5zdHlsZVNoZWV0KSB7XG4gICAgc3R5bGVFbGVtZW50LnN0eWxlU2hlZXQuY3NzVGV4dCA9IGNzcztcbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoc3R5bGVFbGVtZW50LmZpcnN0Q2hpbGQpIHtcbiAgICAgIHN0eWxlRWxlbWVudC5yZW1vdmVDaGlsZChzdHlsZUVsZW1lbnQuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3R5bGVFbGVtZW50LmFwcGVuZENoaWxkKGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKGNzcykpO1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gc3R5bGVUYWdUcmFuc2Zvcm07IiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHRpZDogbW9kdWxlSWQsXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXShtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSAobW9kdWxlKSA9PiB7XG5cdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuXHRcdCgpID0+IChtb2R1bGVbJ2RlZmF1bHQnXSkgOlxuXHRcdCgpID0+IChtb2R1bGUpO1xuXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCB7IGE6IGdldHRlciB9KTtcblx0cmV0dXJuIGdldHRlcjtcbn07IiwiLy8gZGVmaW5lIGdldHRlciBmdW5jdGlvbnMgZm9yIGhhcm1vbnkgZXhwb3J0c1xuX193ZWJwYWNrX3JlcXVpcmVfXy5kID0gKGV4cG9ydHMsIGRlZmluaXRpb24pID0+IHtcblx0Zm9yKHZhciBrZXkgaW4gZGVmaW5pdGlvbikge1xuXHRcdGlmKF9fd2VicGFja19yZXF1aXJlX18ubyhkZWZpbml0aW9uLCBrZXkpICYmICFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywga2V5KSkge1xuXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIGtleSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGRlZmluaXRpb25ba2V5XSB9KTtcblx0XHR9XG5cdH1cbn07IiwiX193ZWJwYWNrX3JlcXVpcmVfXy5vID0gKG9iaiwgcHJvcCkgPT4gKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIHByb3ApKSIsIl9fd2VicGFja19yZXF1aXJlX18ubmMgPSB1bmRlZmluZWQ7IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2FwcC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL2FwcC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJleHBvcnQgY29uc3QgeyBpc0FycmF5IH0gPSBBcnJheVxuIiwiaW1wb3J0IHsgaXNBcnJheSB9IGZyb20gJy4vX2ludGVybmFscy9pc0FycmF5LmpzJ1xuaW1wb3J0IHsgY3VycnkgfSBmcm9tICcuL2N1cnJ5LmpzJ1xuXG5jbGFzcyBSZWR1Y2VTdG9wcGVye1xuICBjb25zdHJ1Y3Rvcih2YWx1ZSl7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlZHVjZUZuKFxuICByZWR1Y2VyLCBhY2MsIGxpc3Rcbil7XG4gIGlmICghaXNBcnJheShsaXN0KSl7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcigncmVkdWNlOiBsaXN0IG11c3QgYmUgYXJyYXkgb3IgaXRlcmFibGUnKVxuICB9XG4gIGxldCBpbmRleCA9IDBcbiAgY29uc3QgbGVuID0gbGlzdC5sZW5ndGhcblxuICB3aGlsZSAoaW5kZXggPCBsZW4pe1xuICAgIGFjYyA9IHJlZHVjZXIoXG4gICAgICBhY2MsIGxpc3RbIGluZGV4IF0sIGluZGV4LCBsaXN0XG4gICAgKVxuICAgIGlmIChhY2MgaW5zdGFuY2VvZiBSZWR1Y2VTdG9wcGVyKXtcbiAgICAgIHJldHVybiBhY2MudmFsdWVcbiAgICB9XG4gICAgaW5kZXgrK1xuICB9XG5cbiAgcmV0dXJuIGFjY1xufVxuXG5leHBvcnQgY29uc3QgcmVkdWNlID0gY3VycnkocmVkdWNlRm4pXG5leHBvcnQgY29uc3QgcmVkdWNlU3RvcHBlciA9IHZhbHVlID0+IG5ldyBSZWR1Y2VTdG9wcGVyKHZhbHVlKVxuIiwiaW1wb3J0IHsgcmVkdWNlRm4gfSBmcm9tICcuL3JlZHVjZS5qcydcblxuZXhwb3J0IGZ1bmN0aW9uIF9hcml0eShuLCBmbil7XG4gIHN3aXRjaCAobil7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gZnVuY3Rpb24gKCl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSAxOlxuICAgIHJldHVybiBmdW5jdGlvbiAoYTApe1xuICAgICAgcmV0dXJuIGZuLmFwcGx5KHRoaXMsIGFyZ3VtZW50cylcbiAgICB9XG4gIGNhc2UgMjpcbiAgICByZXR1cm4gZnVuY3Rpb24gKGEwLCBhMSl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSAzOlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyXG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDQ6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTIsIGEzXG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDU6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTIsIGEzLCBhNFxuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSA2OlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyLCBhMywgYTQsIGE1XG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDc6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2XG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDg6XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChcbiAgICAgIGEwLCBhMSwgYTIsIGEzLCBhNCwgYTUsIGE2LCBhN1xuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgY2FzZSA5OlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4XG4gICAgKXtcbiAgICAgIHJldHVybiBmbi5hcHBseSh0aGlzLCBhcmd1bWVudHMpXG4gICAgfVxuICBjYXNlIDEwOlxuICAgIHJldHVybiBmdW5jdGlvbiAoXG4gICAgICBhMCwgYTEsIGEyLCBhMywgYTQsIGE1LCBhNiwgYTcsIGE4LCBhOVxuICAgICl7XG4gICAgICByZXR1cm4gZm4uYXBwbHkodGhpcywgYXJndW1lbnRzKVxuICAgIH1cbiAgZGVmYXVsdDpcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ZpcnN0IGFyZ3VtZW50IHRvIF9hcml0eSBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIGludGVnZXIgbm8gZ3JlYXRlciB0aGFuIHRlbicpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIF9waXBlKGYsIGcpe1xuICByZXR1cm4gZnVuY3Rpb24gKCl7XG4gICAgcmV0dXJuIGcuY2FsbCh0aGlzLCBmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykpXG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoKXtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApe1xuICAgIHRocm93IG5ldyBFcnJvcigncGlwZSByZXF1aXJlcyBhdCBsZWFzdCBvbmUgYXJndW1lbnQnKVxuICB9XG5cbiAgcmV0dXJuIF9hcml0eShhcmd1bWVudHNbIDAgXS5sZW5ndGgsXG4gICAgcmVkdWNlRm4oXG4gICAgICBfcGlwZSxcbiAgICAgIGFyZ3VtZW50c1sgMCBdLFxuICAgICAgQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoXG4gICAgICAgIGFyZ3VtZW50cywgMSwgSW5maW5pdHlcbiAgICAgIClcbiAgICApKVxufVxuIiwiZXhwb3J0IGZ1bmN0aW9uIGN1cnJ5KGZuLCBhcmdzID0gW10pe1xuICByZXR1cm4gKC4uLl9hcmdzKSA9PlxuICAgIChyZXN0ID0+IHJlc3QubGVuZ3RoID49IGZuLmxlbmd0aCA/IGZuKC4uLnJlc3QpIDogY3VycnkoZm4sIHJlc3QpKShbXG4gICAgICAuLi5hcmdzLFxuICAgICAgLi4uX2FyZ3MsXG4gICAgXSlcbn1cbiIsImltcG9ydCB7IEdhbWVib2FyZEZhY3RvcnkgfSBmcm9tIFwiLi4vZ2FtZWJvYXJkL2dhbWVib2FyZFwiO1xyXG5pbXBvcnQgeyBwaXBlIH0gZnJvbSBcInJhbWJkYVwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IFBsYXllciA9ICgpID0+IHtcclxuICAgIGxldCBnYW1lQm9hcmQgPSBHYW1lYm9hcmRGYWN0b3J5KCk7XHJcbiAgICBsZXQgaXNDdXJyZW50UGxheWVyID0gZmFsc2U7XHJcbiAgICBjb25zdCBnZXRJc0N1cnJlbnRQbGF5ZXIgPSAoKSA9PiBpc0N1cnJlbnRQbGF5ZXI7XHJcbiAgICBjb25zdCBzZXRJc0N1cnJlbnRQbGF5ZXIgPSAoc3RhdHVzKSA9PiBpc0N1cnJlbnRQbGF5ZXIgPSBzdGF0dXM7XHJcbiAgICBjb25zdCB0b2dnbGVJc0N1cnJlbnRQbGF5ZXIgPSAoKSA9PiBzZXRJc0N1cnJlbnRQbGF5ZXIoIWlzQ3VycmVudFBsYXllcik7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdhbWVCb2FyZCxcclxuICAgICAgICBnZXRJc0N1cnJlbnRQbGF5ZXIsXHJcbiAgICAgICAgc2V0SXNDdXJyZW50UGxheWVyLFxyXG4gICAgICAgIHRvZ2dsZUlzQ3VycmVudFBsYXllcixcclxuICAgIH07XHJcbn1cclxuXHJcbmNvbnN0IGlzQUlQbGF5ZXIgPSAocGxheWVyID0ge30pID0+IHtcclxuICAgIGNvbnN0IGdldE5leHRBdHRhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgbGV0IHggPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoTWF0aC5wb3coMTAsIDIpKSlcclxuICAgICAgICBsZXQgeSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChNYXRoLnBvdygxMCwgMikpKVxyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHgsXHJcbiAgICAgICAgICAgIHksXHJcbiAgICAgICAgICAgIGlzQUk6IHRydWUsXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgLi4ucGxheWVyLFxyXG4gICAgICAgIGdldE5leHRBdHRhY2tcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IEFJUGxheWVyID0gKCkgPT4ge1xyXG4gICAgY29uc3QgcGxheWVyID0gUGxheWVyKCk7XHJcbiAgICByZXR1cm4gcGlwZShcclxuICAgIGlzQUlQbGF5ZXJcclxuICAgICkocGxheWVyKVxyXG59XHJcbiIsImltcG9ydCB7IFNoaXBGYWN0b3J5IH0gZnJvbSBcIi4uL3NoaXAvc2hpcFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IEdhbWVib2FyZEZhY3RvcnkgPSAoYm9hcmRMZW5ndGggPSAxMCkgPT4ge1xyXG4gICAgY29uc3QgbGVuZ3RoID0gYm9hcmRMZW5ndGg7XHJcbiAgICBjb25zdCBtaXNzZWRTaG90cyA9IFtdO1xyXG4gICAgY29uc3QgaGl0cyA9IFtdO1xyXG4gICAgY29uc3QgZ2V0TWlzc2VkU2hvdHMgPSAoKSAgPT4gbWlzc2VkU2hvdHM7XHJcbiAgICBjb25zdCBnZXRIaXRzID0gKCkgPT4gaGl0cztcclxuXHJcbiAgICBjb25zdCBjcmVhdGVCb2FyZCA9ICgpID0+IHtcclxuICAgICAgICBsZXQgdG90YWxMZW5ndGggPSBsZW5ndGggKiBsZW5ndGg7XHJcbiAgICAgICAgcmV0dXJuIG5ldyBBcnJheSh0b3RhbExlbmd0aCk7XHJcbiAgICB9XHJcbiAgICBsZXQgYm9hcmQgPSBjcmVhdGVCb2FyZCgpXHJcbiAgICBjb25zdCBnZXRCb2FyZCA9ICgpID0+IGJvYXJkO1xyXG4gICAgY29uc3QgX3NldEJvYXJkID0gKG5ld0JvYXJkKSA9PiBib2FyZCA9IG5ld0JvYXJkO1xyXG5cclxuICAgIGNvbnN0IF9nZXRJbmRleEZyb21Db29yZCA9ICh4LHkpID0+IHtcclxuICAgICAgICByZXR1cm4gKGxlbmd0aCAqIHkpICsgeFxyXG4gICAgfVxyXG4gICAgY29uc3QgZ2V0UG9zID0gKHgsIHkpID0+IHtcclxuICAgICAgICBjb25zdCBpbmRleCA9IF9nZXRJbmRleEZyb21Db29yZCh4LCB5KTtcclxuICAgICAgICByZXR1cm4gaW5kZXg7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgX3NldFBvcyA9ICh4LCB5LCBkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5kZXggPSBnZXRQb3MoeCwgeSk7XHJcbiAgICAgICAgaW5kZXggPSBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IF9oaXRFeGlzdHMgPSAocG9zKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcG9zU3RyaW5nID0gSlNPTi5zdHJpbmdpZnkocG9zKTtcclxuICAgICAgICBsZXQgY29udGFpbnNIaXRzID0gaGl0cy5zb21lKChlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlKSA9PT0gcG9zU3RyaW5nO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zSGl0cztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBfbWlzc0V4aXN0cyA9IChwb3MpID0+IHtcclxuICAgICAgICBjb25zdCBwb3NTdHJpbmcgPSBKU09OLnN0cmluZ2lmeShwb3MpO1xyXG4gICAgICAgIGxldCBjb250YWluc01pc3MgPSBtaXNzZWRTaG90cy5zb21lKChlKSA9PiB7XHJcbiAgICAgICAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShlKSA9PT0gcG9zU3RyaW5nO1xyXG4gICAgICAgIH0pXHJcbiAgICAgICAgcmV0dXJuIGNvbnRhaW5zTWlzcztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCByZWNlaXZlQXR0YWNrID0gKHgsIHkpID0+IHtcclxuICAgICAgICBjb25zdCBwb3MgPSBbeCwgeV07XHJcbiAgICAgICAgaWYgKF9oaXRFeGlzdHMocG9zKSB8fCBfbWlzc0V4aXN0cyhwb3MpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHNoaXAgPSBib2FyZFtnZXRQb3MoeCx5KV07XHJcbiAgICAgICAgaWYgKHNoaXAgJiYgc2hpcC5oaXQpIHtcclxuICAgICAgICAgICAgaGl0cy5wdXNoKHBvcyk7XHJcbiAgICAgICAgICAgIHNoaXAuaGl0KCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbWlzc2VkU2hvdHMucHVzaChwb3MpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBwbGFjZVNoaXAgPSAoc2l6ZSwgcG9zKSA9PiB7XHJcbiAgICAgICAgY29uc3QgeCA9IHBvcy54O1xyXG4gICAgICAgIGNvbnN0IHkgPSBwb3MueTtcclxuICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0UG9zKHgsIHkpO1xyXG4gICAgICAgIGlmICghX2lzU2hpcFBvc2l0aW9uVmFsaWQoc2l6ZSwgcG9zKSkge1xyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Bvc2l0aW9uIGFscmVhZHkgaGFzIHNoaXAnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IHNoaXAgPSBTaGlwRmFjdG9yeShzaXplKTtcclxuICAgICAgICBsZXQgbmV3Qm9hcmQgPSBnZXRCb2FyZCgpO1xyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBzaGlwLmdldExlbmd0aCgpOyBpKyspIHtcclxuICAgICAgICAgICAgbmV3Qm9hcmRbc3RhcnRJbmRleCArIGldID0gc2hpcDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIF9zZXRCb2FyZChuZXdCb2FyZCk7XHJcbiAgICAgICAgcmV0dXJuIGJvYXJkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IF9pc1NoaXBQb3NpdGlvblZhbGlkID0gKHNpemUsIHBvcykgPT4ge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2l6ZTsgaSsrKSB7XHJcbiAgICAgICAgICAgIGxldCB4ID0gcG9zLnggKyBpO1xyXG4gICAgICAgICAgICBsZXQgeSA9IHBvcy55ICsgaTtcclxuICAgICAgICAgICAgaWYgKHggPiBsZW5ndGggLSAxIHx8IHkgPiBsZW5ndGggLSAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IGJvYXJkSW5kZXggPSBnZXRQb3MocG9zLnggKyBpLCBwb3MueSk7XHJcbiAgICAgICAgICAgIGlmIChnZXRCb2FyZCgpW2JvYXJkSW5kZXhdKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgaXNBbGxTdW5rID0gKCkgPT4ge1xyXG4gICAgICAgIGZvciAoY29uc3QgcG9zIG9mIGJvYXJkKSB7XHJcbiAgICAgICAgICAgIGlmKHBvcyAmJiBwb3MuaXNTdW5rKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXBvcy5pc1N1bmsoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBnZW5lcmF0ZUJvYXJkID0gKCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHNoaXBzVG9DcmVhdGUgPSBbMiwgMiwgMiwgMywgMywgNF07XHJcbiAgICAgICAgY29uc3Qgc2hpcHNDcmVhdGVkID0gW107XHJcbiAgICAgICAgd2hpbGUgKHNoaXBzVG9DcmVhdGUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdTaGlwU2l6ZSA9IHNoaXBzVG9DcmVhdGUuc2hpZnQoKTtcclxuICAgICAgICAgICAgY29uc3QgbmV3U2hpcFBvcyA9IF9nZXRWYWxpZFJhbmRvbVNoaXBQb3NpdGlvbihuZXdTaGlwU2l6ZSk7XHJcbiAgICAgICAgICAgIHBsYWNlU2hpcChuZXdTaGlwU2l6ZSwgbmV3U2hpcFBvcyk7XHJcbiAgICAgICAgICAgIHNoaXBzQ3JlYXRlZC5wdXNoKHt4OiBuZXdTaGlwUG9zLngsIHk6IG5ld1NoaXBQb3MueX0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc2hpcHNDcmVhdGVkO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IF9nZXRWYWxpZFJhbmRvbVNoaXBQb3NpdGlvbiA9IChzaXplKSA9PiB7XHJcbiAgICAgICAgbGV0IHggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogbGVuZ3RoKSk7XHJcbiAgICAgICAgbGV0IHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZW5ndGgpO1xyXG4gICAgICAgIHdoaWxlKCFfaXNTaGlwUG9zaXRpb25WYWxpZChzaXplLCB7eCwgeX0pKSB7XHJcbiAgICAgICAgICAgIHggPSBNYXRoLmZsb29yKChNYXRoLnJhbmRvbSgpICogbGVuZ3RoKSk7XHJcbiAgICAgICAgICAgIHkgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBsZW5ndGgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4ge3gsIHl9O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBnZXRCb2FyZCxcclxuICAgICAgICBnZXRQb3MsXHJcbiAgICAgICAgcGxhY2VTaGlwLFxyXG4gICAgICAgIHJlY2VpdmVBdHRhY2ssXHJcbiAgICAgICAgZ2V0TWlzc2VkU2hvdHMsXHJcbiAgICAgICAgaXNBbGxTdW5rLFxyXG4gICAgICAgIGdldEhpdHMsXHJcbiAgICAgICAgZ2VuZXJhdGVCb2FyZFxyXG4gICAgfVxyXG59IiwiZXhwb3J0IGNvbnN0IFNoaXBGYWN0b3J5ID0gKHNoaXBMZW5ndGggPSAyKSA9PiB7XHJcbiAgICBsZXQgdGltZXNIaXQgPSAwO1xyXG4gICAgY29uc3QgZ2V0VGltZXNIaXQgPSAoKSA9PiB0aW1lc0hpdDtcclxuXHJcbiAgICBsZXQgbGVuZ3RoID0gc2hpcExlbmd0aDtcclxuICAgIGNvbnN0IGdldExlbmd0aCA9ICgpID0+IGxlbmd0aDtcclxuXHJcbiAgICBjb25zdCBoaXQgPSAoKSA9PiB7XHJcbiAgICAgICAgaWYgKGlzU3VuaygpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGltZXNIaXQrKztcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBpc1N1bmsgPSAoKSA9PiB7XHJcbiAgICAgICAgcmV0dXJuIHRpbWVzSGl0ID49IGxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGdldFRpbWVzSGl0LFxyXG4gICAgICAgIGdldExlbmd0aCxcclxuICAgICAgICBoaXQsXHJcbiAgICAgICAgaXNTdW5rLFxyXG4gICAgfVxyXG59IiwiXG4gICAgICBpbXBvcnQgQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5qZWN0U3R5bGVzSW50b1N0eWxlVGFnLmpzXCI7XG4gICAgICBpbXBvcnQgZG9tQVBJIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc3R5bGVEb21BUEkuanNcIjtcbiAgICAgIGltcG9ydCBpbnNlcnRGbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL2luc2VydEJ5U2VsZWN0b3IuanNcIjtcbiAgICAgIGltcG9ydCBzZXRBdHRyaWJ1dGVzIGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvc2V0QXR0cmlidXRlc1dpdGhvdXRBdHRyaWJ1dGVzLmpzXCI7XG4gICAgICBpbXBvcnQgaW5zZXJ0U3R5bGVFbGVtZW50IGZyb20gXCIhLi4vLi4vbm9kZV9tb2R1bGVzL3N0eWxlLWxvYWRlci9kaXN0L3J1bnRpbWUvaW5zZXJ0U3R5bGVFbGVtZW50LmpzXCI7XG4gICAgICBpbXBvcnQgc3R5bGVUYWdUcmFuc2Zvcm1GbiBmcm9tIFwiIS4uLy4uL25vZGVfbW9kdWxlcy9zdHlsZS1sb2FkZXIvZGlzdC9ydW50aW1lL3N0eWxlVGFnVHJhbnNmb3JtLmpzXCI7XG4gICAgICBpbXBvcnQgY29udGVudCwgKiBhcyBuYW1lZEV4cG9ydCBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0dhbWVib2FyZENvbXBvbmVudC5jc3NcIjtcbiAgICAgIFxuICAgICAgXG5cbnZhciBvcHRpb25zID0ge307XG5cbm9wdGlvbnMuc3R5bGVUYWdUcmFuc2Zvcm0gPSBzdHlsZVRhZ1RyYW5zZm9ybUZuO1xub3B0aW9ucy5zZXRBdHRyaWJ1dGVzID0gc2V0QXR0cmlidXRlcztcblxuICAgICAgb3B0aW9ucy5pbnNlcnQgPSBpbnNlcnRGbi5iaW5kKG51bGwsIFwiaGVhZFwiKTtcbiAgICBcbm9wdGlvbnMuZG9tQVBJID0gZG9tQVBJO1xub3B0aW9ucy5pbnNlcnRTdHlsZUVsZW1lbnQgPSBpbnNlcnRTdHlsZUVsZW1lbnQ7XG5cbnZhciB1cGRhdGUgPSBBUEkoY29udGVudCwgb3B0aW9ucyk7XG5cblxuXG5leHBvcnQgKiBmcm9tIFwiISEuLi8uLi9ub2RlX21vZHVsZXMvY3NzLWxvYWRlci9kaXN0L2Nqcy5qcyEuL0dhbWVib2FyZENvbXBvbmVudC5jc3NcIjtcbiAgICAgICBleHBvcnQgZGVmYXVsdCBjb250ZW50ICYmIGNvbnRlbnQubG9jYWxzID8gY29udGVudC5sb2NhbHMgOiB1bmRlZmluZWQ7XG4iLCJpbXBvcnQgJy4vR2FtZWJvYXJkQ29tcG9uZW50LmNzcyc7XHJcblxyXG5leHBvcnQgY2xhc3MgR2FtZWJvYXJkQ29tcG9uZW50IHtcclxuICAgIGNvbnN0cnVjdG9yKHBsYXllciwgaGlkZVNoaXBzID0gZmFsc2UpIHtcclxuICAgICAgICB0aGlzLnBsYXllciA9IHBsYXllcjtcclxuICAgICAgICB0aGlzLmdhbWVib2FyZCA9IHBsYXllci5nYW1lQm9hcmQ7XHJcbiAgICAgICAgdGhpcy5oaWRlU2hpcHMgPSBoaWRlU2hpcHM7XHJcbiAgICB9XHJcblxyXG4gICAgcmVuZGVyKCkge1xyXG4gICAgICAgIGNvbnN0IGdhbWVib2FyZERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIGdhbWVib2FyZERpdi5jbGFzc0xpc3QuYWRkKCdnYW1lYm9hcmQtY29udGFpbmVyJyk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgYm9hcmRJdGVtcyA9IHRoaXMuZ2FtZWJvYXJkLmdldEJvYXJkKCk7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmdhbWVib2FyZC5nZXRCb2FyZCgpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGdhbWVib2FyZEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS5jbGFzc0xpc3QuYWRkKCdnYW1lYm9hcmQtaXRlbScpO1xyXG4gICAgICAgICAgICBnYW1lYm9hcmRJdGVtLnRleHRDb250ZW50ID0gaTtcclxuICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS5wb3NpdGlvbiA9IGk7XHJcblxyXG4gICAgICAgICAgICBnYW1lYm9hcmRJdGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBvc2l0aW9uID0gZS5jdXJyZW50VGFyZ2V0LnBvc2l0aW9uO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHBvc2l0aW9uKTtcclxuICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGlmIChib2FyZEl0ZW1zW2ldICYmICF0aGlzLmhpZGVTaGlwcykge1xyXG4gICAgICAgICAgICAgICAgZ2FtZWJvYXJkSXRlbS5jbGFzc0xpc3QuYWRkKCdzaGlwJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYoYm9hcmRJdGVtc1tpXS5pc1N1bmsoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGdhbWVib2FyZEl0ZW0uY2xhc3NMaXN0LmFkZCgnc3VuaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBnYW1lYm9hcmREaXYuYXBwZW5kQ2hpbGQoZ2FtZWJvYXJkSXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiBnYW1lYm9hcmREaXY7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgeyBQbGF5ZXIsIEFJUGxheWVyIH0gZnJvbSBcIi4vcGxheWVyL3BsYXllclwiO1xyXG5pbXBvcnQgeyBHYW1lYm9hcmRDb21wb25lbnQgfSBmcm9tIFwiLi9nYW1lYm9hcmQvR2FtZWJvYXJkQ29tcG9uZW50XCI7XHJcblxyXG5cclxuZXhwb3J0IGNsYXNzIEdhbWUge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxID0gUGxheWVyKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxLmdhbWVCb2FyZC5nZW5lcmF0ZUJvYXJkKCk7XHJcbiAgICAgICAgdGhpcy5wbGF5ZXIyID0gQUlQbGF5ZXIoKTtcclxuICAgICAgICB0aGlzLnBsYXllcjIuZ2FtZUJvYXJkLmdlbmVyYXRlQm9hcmQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5ZXIxZ2FtZUJvYXJkID0gbmV3IEdhbWVib2FyZENvbXBvbmVudCh0aGlzLnBsYXllcjEsIGZhbHNlKTtcclxuICAgICAgICB0aGlzLnBsYXllcjJnYW1lQm9hcmQgPSBuZXcgR2FtZWJvYXJkQ29tcG9uZW50KHRoaXMucGxheWVyMiwgdHJ1ZSk7XHJcbiAgICAgICAgfVxyXG59IiwiaW1wb3J0ICcuL2FwcC5jc3MnO1xyXG5cclxuaW1wb3J0IHsgR2FtZSB9IGZyb20gXCIuL0dhbWVcIjtcclxuXHJcbigoKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnYmF0dGxlc2hpcCBhcHAgbG9hZGVkJyk7XHJcbiAgICBjb25zdCB3cmFwcGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLndyYXBwZXInKTtcclxuICAgIFxyXG4gICAgY29uc3QgZ2FtZSA9IG5ldyBHYW1lKCk7XHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGdhbWUucGxheWVyMWdhbWVCb2FyZC5yZW5kZXIoKSk7XHJcbiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKGdhbWUucGxheWVyMmdhbWVCb2FyZC5yZW5kZXIoKSk7XHJcbn0pKCk7Il0sIm5hbWVzIjpbIl9fX0NTU19MT0FERVJfRVhQT1JUX19fIiwicHVzaCIsIm1vZHVsZSIsImlkIiwiZXhwb3J0cyIsImNzc1dpdGhNYXBwaW5nVG9TdHJpbmciLCJsaXN0IiwidG9TdHJpbmciLCJ0aGlzIiwibWFwIiwiaXRlbSIsImNvbnRlbnQiLCJuZWVkTGF5ZXIiLCJjb25jYXQiLCJsZW5ndGgiLCJqb2luIiwiaSIsIm1vZHVsZXMiLCJtZWRpYSIsImRlZHVwZSIsInN1cHBvcnRzIiwibGF5ZXIiLCJ1bmRlZmluZWQiLCJhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzIiwiayIsIl9rIiwiY3NzTWFwcGluZyIsImJ0b2EiLCJiYXNlNjQiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYXRhIiwic291cmNlTWFwcGluZyIsInN0eWxlc0luRE9NIiwiZ2V0SW5kZXhCeUlkZW50aWZpZXIiLCJpZGVudGlmaWVyIiwicmVzdWx0IiwibW9kdWxlc1RvRG9tIiwib3B0aW9ucyIsImlkQ291bnRNYXAiLCJpZGVudGlmaWVycyIsImJhc2UiLCJjb3VudCIsImluZGV4QnlJZGVudGlmaWVyIiwib2JqIiwiY3NzIiwic291cmNlTWFwIiwicmVmZXJlbmNlcyIsInVwZGF0ZXIiLCJhZGRFbGVtZW50U3R5bGUiLCJieUluZGV4Iiwic3BsaWNlIiwiYXBpIiwiZG9tQVBJIiwidXBkYXRlIiwibmV3T2JqIiwicmVtb3ZlIiwibGFzdElkZW50aWZpZXJzIiwibmV3TGlzdCIsImluZGV4IiwibmV3TGFzdElkZW50aWZpZXJzIiwiX2kiLCJfaW5kZXgiLCJtZW1vIiwiaW5zZXJ0Iiwic3R5bGUiLCJ0YXJnZXQiLCJzdHlsZVRhcmdldCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbmRvdyIsIkhUTUxJRnJhbWVFbGVtZW50IiwiY29udGVudERvY3VtZW50IiwiaGVhZCIsImUiLCJnZXRUYXJnZXQiLCJFcnJvciIsImFwcGVuZENoaWxkIiwiZWxlbWVudCIsImNyZWF0ZUVsZW1lbnQiLCJzZXRBdHRyaWJ1dGVzIiwiYXR0cmlidXRlcyIsInN0eWxlRWxlbWVudCIsIm5vbmNlIiwic2V0QXR0cmlidXRlIiwiaW5zZXJ0U3R5bGVFbGVtZW50Iiwic3R5bGVUYWdUcmFuc2Zvcm0iLCJhcHBseSIsInBhcmVudE5vZGUiLCJyZW1vdmVDaGlsZCIsInJlbW92ZVN0eWxlRWxlbWVudCIsInN0eWxlU2hlZXQiLCJjc3NUZXh0IiwiZmlyc3RDaGlsZCIsImNyZWF0ZVRleHROb2RlIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwiX193ZWJwYWNrX21vZHVsZXNfXyIsIm4iLCJnZXR0ZXIiLCJfX2VzTW9kdWxlIiwiZCIsImEiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJuYyIsImlzQXJyYXkiLCJBcnJheSIsIlJlZHVjZVN0b3BwZXIiLCJjb25zdHJ1Y3RvciIsInZhbHVlIiwicmVkdWNlRm4iLCJyZWR1Y2VyIiwiYWNjIiwiVHlwZUVycm9yIiwibGVuIiwiX3BpcGUiLCJmIiwiZyIsImFyZ3VtZW50cyIsImN1cnJ5IiwiZm4iLCJhcmdzIiwiX2FyZ3MiLCJyZXN0IiwiUGxheWVyIiwiZ2FtZUJvYXJkIiwiYm9hcmRMZW5ndGgiLCJtaXNzZWRTaG90cyIsImhpdHMiLCJib2FyZCIsImdldEJvYXJkIiwiZ2V0UG9zIiwieCIsInkiLCJfZ2V0SW5kZXhGcm9tQ29vcmQiLCJwbGFjZVNoaXAiLCJzaXplIiwicG9zIiwic3RhcnRJbmRleCIsIl9pc1NoaXBQb3NpdGlvblZhbGlkIiwic2hpcCIsInNoaXBMZW5ndGgiLCJ0aW1lc0hpdCIsImlzU3VuayIsImdldFRpbWVzSGl0IiwiZ2V0TGVuZ3RoIiwiaGl0IiwiU2hpcEZhY3RvcnkiLCJuZXdCb2FyZCIsIl9zZXRCb2FyZCIsImJvYXJkSW5kZXgiLCJfZ2V0VmFsaWRSYW5kb21TaGlwUG9zaXRpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJyZWNlaXZlQXR0YWNrIiwicG9zU3RyaW5nIiwic29tZSIsIl9oaXRFeGlzdHMiLCJfbWlzc0V4aXN0cyIsImdldE1pc3NlZFNob3RzIiwiaXNBbGxTdW5rIiwiZ2V0SGl0cyIsImdlbmVyYXRlQm9hcmQiLCJzaGlwc1RvQ3JlYXRlIiwic2hpcHNDcmVhdGVkIiwibmV3U2hpcFNpemUiLCJzaGlmdCIsIm5ld1NoaXBQb3MiLCJHYW1lYm9hcmRGYWN0b3J5IiwiaXNDdXJyZW50UGxheWVyIiwic2V0SXNDdXJyZW50UGxheWVyIiwic3RhdHVzIiwiZ2V0SXNDdXJyZW50UGxheWVyIiwidG9nZ2xlSXNDdXJyZW50UGxheWVyIiwiaXNBSVBsYXllciIsInBsYXllciIsImdldE5leHRBdHRhY2siLCJwb3ciLCJpc0FJIiwiaGlkZVNoaXBzIiwiZ2FtZWJvYXJkIiwicmVuZGVyIiwiZ2FtZWJvYXJkRGl2IiwiY2xhc3NMaXN0IiwiYWRkIiwiYm9hcmRJdGVtcyIsImdhbWVib2FyZEl0ZW0iLCJ0ZXh0Q29udGVudCIsInBvc2l0aW9uIiwiYWRkRXZlbnRMaXN0ZW5lciIsImN1cnJlbnRUYXJnZXQiLCJjb25zb2xlIiwibG9nIiwiR2FtZSIsInBsYXllcjEiLCJwbGF5ZXIyIiwiYTAiLCJhMSIsImEyIiwiYTMiLCJhNCIsImE1IiwiYTYiLCJhNyIsImE4IiwiYTkiLCJfYXJpdHkiLCJzbGljZSIsIkluZmluaXR5IiwicGlwZSIsIkFJUGxheWVyIiwicGxheWVyMWdhbWVCb2FyZCIsInBsYXllcjJnYW1lQm9hcmQiLCJ3cmFwcGVyIiwiZ2FtZSJdLCJzb3VyY2VSb290IjoiIn0=